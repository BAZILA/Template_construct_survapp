<!DOCTYPE html>
<html lang="fr" data-bs-theme="dark">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Network Monitor</title>
    <link rel="stylesheet" href="bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet"
      href="node_modules/bootstrap-icons/font/bootstrap-icons.css">
    <link rel="stylesheet" href="main-css/style.css">
    <link rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  </head>

  <body>
    <div class="container-fluid">
      <div class="row">
        <!-- Sidebar -->
        <nav class="col-md-2 d-none d-md-block sidebar">
          <div class="pt-3">
            <h5 class="text-center">Network Monitor</h5>

            <a href="#" class="active" data-target="accueil">
              <i class="bi bi-graph-up me-2"></i> Accueil
            </a>

            <a href="#" data-target="hote">
              <i class="bi bi-pc-display-horizontal me-2"></i>
              Hôtes
            </a>

            <a href="#" data-target="services">
              <i class="bi bi-hdd-network me-2"></i> Services
            </a>

            <a href="#" data-target="alertes">
              <i class="bi bi-exclamation-triangle-fill me-2"></i>
              Alertes
            </a>

            <a href="#" data-target="reseau">
              <i class="bi bi-diagram-3-fill me-2"></i> Cartes
              réseau
            </a>

            <a href="#" data-target="rapport">
              <i class="bi bi-bar-chart-fill me-2"></i> Rapports
            </a>

            <!-- Dropdown principal pour les gest... des users et leur perms..-->
            <a href="#"
              class="d-flex align-items-center justify-content-between sidebar-link"
              data-bs-toggle="collapse" data-bs-target="#userMgmtMenu"
              aria-expanded="false">
              <span><i class="bi bi-person-gear me-2"></i> User
                Management</span>
              <i class="bi bi-chevron-down small"></i>
            </a>

            <!-- Sous-menu -->
            <div class="collapse ps-3" id="userMgmtMenu">
              <a href="#" class="sidebar-sub-link" data-target="utilisateurs">
                <i class="bi bi-people me-2"></i> Utilisateurs
              </a>
              <a href="#" class="sidebar-sub-link" data-target="roles">
                <i class="bi bi-shield-lock me-2"></i> Rôles & Permissions
              </a>
            </div>

            <a href="#" data-target="configuration">
              <i class="bi bi-gear-fill me-2"></i> Configuration
            </a>

            <a href="#" data-target="log">
              <i class="bi bi-journal-text me-2"></i> Logs
            </a>
          </div>
        </nav>
        <!-- Main content -->
        <main class="col-md-10 ms-sm-auto px-md-4 pt-3">
          <div class="d-flex justify-content-between align-items-center mb-3">
            <h4>Bonjour Madame Clara JOHSON , Bienvenue sur SURVAPP</h4>
            <div class="d-flex align-items-center gap-3">
              <div class="theme-toggle">
                <input type="checkbox" id="themeSwitch" hidden />
                <label for="themeSwitch" class="toggle-label">
                  <i class="bi bi-moon-fill moon-icon"></i>
                  <i class="bi bi-sun-fill sun-icon"></i>
                  <span class="ball"></span>
                </label>
              </div>
              <div class="dropdown">
                <button
                  class="btn btn-secondary dropdown-toggle d-flex align-items-center gap-2"
                  type="button"
                  id="userMenu" data-bs-toggle="dropdown" aria-expanded="false">
                  <img src="assets/images/tech.jpeg" alt="Avatar"
                    class="rounded-circle"
                    style="width: 30px; height: 30px; object-fit: cover;">
                  Utilisateur
                </button>
                <ul class="dropdown-menu dropdown-menu-end dropdown-menu-dark"
                  aria-labelledby="userMenu">
                  <li><a class="dropdown-item" href="#">Mes
                      logs</a></li>
                  <li><a class="dropdown-item" href="#">Modifier mon
                      profil</a></li>
                  <li>
                    <hr class="dropdown-divider">
                  </li>
                  <li><a class="dropdown-item" href="#">Déconnexion</a></li>
                </ul>
              </div>
            </div>
          </div>
          <div id="accueil" class="page-section">
            <div class="row">
              <h4 class="mb-4"><i class="bi bi-graph-up me-2"></i>Accueil</h4>
              <div class="col-md-6">
                <div class="card p-3 mb-3">
                  <h5>Utilisation du réseau</h5>
                  <canvas id="networkChart" height="300"></canvas>
                </div>

                <div class="card p-3 mb-3">
                  <h5>Statistique des utilisateurs</h5>
                  <p>Rapport.</p>
                  <div class="mb-3 p-3 rounded"
                    style="background-color: #243e73;">
                    <div class="d-flex align-items-center">
                      <i class="fas fa-users fa-2x me-3 text-light"></i>
                      <div>
                        <div class="text-light small">Nombre
                          d'utilisateurs</div>
                        <div class="h4 fw-bold text-primary">156</div>
                      </div>
                    </div>
                  </div>
                  <div class="p-3 rounded" style="background-color: #1e4034;">
                    <div class="d-flex align-items-center">
                      <i class="fas fa-user-check fa-2x me-3 text-light"></i>
                      <div>
                        <div class="text-light small">Utilisateurs
                          connectés</div>
                        <div class="h4 fw-bold text-success">24</div>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="card p-3 mb-3">
                  <h5>Services supervisés</h5>
                  <table class="table table-striped">
                    <thead>
                      <tr>
                        <th>Service</th>
                        <th>Hôte</th>
                        <th>État</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td>HTTP</td>
                        <td>web-server-01</td>
                        <td><span class="status-box status-ok">OK</span></td>
                      </tr>
                      <tr>
                        <td>SSH</td>
                        <td>db-server-01</td>
                        <td><span class="status-box status-ok">OK</span></td>
                      </tr>
                      <tr>
                        <td>FTP</td>
                        <td>file-server-01</td>
                        <td><span class="status-box status-ok">OK</span></td>
                      </tr>
                      <tr>
                        <td>MySQL</td>
                        <td>db-server-01</td>
                        <td><span
                            class="status-box status-critical">Critical</span></td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>

              <div class="col-md-6">
                <div class="card p-3 mb-3">
                  <h5>État des hôtes</h5>
                  <div class="d-grid gap-2"
                    style="grid-template-columns: repeat(2, 1fr);">
                    <div class="status-box-hote status-ok pt-5">Up<br>32</div>
                    <div class="status-box-hote status-critical pt-5"><span
                        class="pt-2 d-block">Down</span>
                      <strong>1</strong>
                    </div>
                    <div class="status-box-hote status-warning pt-5"><span
                        class="pt-2 d-block">Unreachable</span>
                      <strong>13</strong>
                    </div>
                    <div class="status-box-hote status-pending pt-5"><span
                        class="pt-2 d-block">Pending</span>
                      <strong>67</strong>
                    </div>
                  </div>
                </div>
                <div class="card p-3 mb-3">
                  <h5>Graphique historique</h5>
                  <p><strong>Host:</strong> web-server-02 <span
                      class="text-danger">Down</span><br>
                    <strong>Service:</strong> CPU Load <span
                      class="text-warning">Warning</span><br>
                    <strong>Disk Space:</strong> 4/4/2024 13:50
                  </p>
                </div>
                <div class="card p-3 mb-3">
                  <h5>Graphique historique</h5>
                  <canvas id="historiqueChart" height="200"></canvas>
                </div>
                <div class="card text-white mb-4">
                  <div class="card-body">
                    <h5 class="card-title mb-4">Etat des
                      alertes</h5>

                    <div class="mb-3 p-3 rounded"
                      style="background-color: #834d34;">
                      <div class="d-flex align-items-center">
                        <i class="bi bi-exclamation-triangle fa-3x me-3"></i>
                        <div>
                          <div class="text-light small">Etat
                            critique</div>
                          <div class="h4 fw-bold text-primary">15</div>
                        </div>
                      </div>
                    </div>
                    <div class="p-3 rounded" style="background-color: #6699f8;">
                      <div class="d-flex align-items-center">
                        <i class="bi fa-3x bi-dash-circle-dotted me-3"></i>
                        <div>
                          <div class="text-light small">Etat
                            normal</div>
                          <div class="h4 fw-bold text-success">2</div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div id="hote" class="page-section d-none">
            <h4 class="mb-4 d-flex align-items-center">
              <i class="bi bi-pc-display-horizontal me-2 fs-4"></i> Hôtes
            </h4>
            <div class="card p-4 mb-4">
              <div
                class="d-flex justify-content-between align-items-center mb-3">
                <div class="d-flex gap-2 flex-wrap">
                  <span class="badge bg-dark p-2 px-3">Total hôtes:
                    <strong>3</strong></span>
                  <span class="badge bg-dark p-2 px-3">Équipements:
                    <strong>7</strong></span>
                  <span class="badge bg-dark p-2 px-3">Alertes:
                    <strong>1</strong></span>
                </div>
                <div class="d-flex gap-2 flex-wrap">
                  <button class="btn btn-primary" data-bs-toggle="modal"
                    data-bs-target="#addHostModal">
                    <i class="bi bi-plus-circle me-1"></i> Ajouter un hôte
                  </button>
                  <button class="btn btn-success">
                    <i class="bi bi-file-earmark-arrow-down me-1"></i> Exporter
                  </button>
                  <input type="text" class="form-control"
                    placeholder="Rechercher un hôte..."
                    style="max-width: 200px;">
                </div>
              </div>

              <div class="table-responsive">
                <table class="table table-dark align-middle mb-0">
                  <thead>
                    <tr>
                      <th>Nom</th>
                      <th>IP</th>
                      <th>État</th>
                      <th>CPU</th>
                      <th>Disque</th>
                      <th>Services</th>
                      <th>Actions</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td>web-server-01</td>
                      <td>192.168.1.10</td>
                      <td><span class="badge bg-success">Up</span></td>
                      <td>15%</td>
                      <td>80%</td>
                      <td>HTTP, SSHS</td>
                      <td>
                        <div class="d-flex gap-2">
                          <button class="btn btn-sm btn-outline-info"
                            data-bs-toggle="modal"
                            data-bs-target="#detailModal"><i
                              class="bi bi-eye"></i></button>
                          <button class="btn btn-sm btn-outline-light"
                            data-bs-toggle="modal"
                            data-bs-target="#graphieModal"><i
                              class="bi bi-diagram-3"></i></button>
                          <button class="btn btn-sm btn-danger"
                            data-bs-toggle="modal"
                            data-bs-target="#deleteModal"><i
                              class="bi bi-trash"></i></button>
                        </div>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        db-server-01
                        <span class="badge bg-danger ms-1">Alerte</span>
                      </td>
                      <td>192.168.1.20</td>
                      <td><span class="badge bg-danger">Down</span></td>
                      <td>0%</td>
                      <td>N/A</td>
                      <td>MySQL</td>
                      <td>
                        <div class="d-flex gap-2">
                          <button class="btn btn-sm btn-outline-info"><i
                              class="bi bi-eye"></i></button>
                          <button class="btn btn-sm btn-outline-light"><i
                              class="bi bi-diagram-3"></i></button>
                          <button class="btn btn-sm btn-danger"><i
                              class="bi bi-trash"></i></button>
                        </div>
                      </td>
                    </tr>
                    <tr>
                      <td>file-server-01</td>
                      <td>192.168.1.30</td>
                      <td><span class="badge bg-success">Up</span></td>
                      <td>22%</td>
                      <td>60%</td>
                      <td>FTP</td>
                      <td>
                        <div class="d-flex gap-2">
                          <button class="btn btn-sm btn-outline-info"><i
                              class="bi bi-eye"></i></button>
                          <button class="btn btn-sm btn-outline-light"><i
                              class="bi bi-diagram-3"></i></button>
                          <button class="btn btn-sm btn-danger"><i
                              class="bi bi-trash"></i></button>
                        </div>
                      </td>
                    </tr>
                  </tbody>
                </table>
                <!-- Modal Bootstrap : Gestion de l'ajout des hôtes justin régarde bien comment ça doit marcher... boostrap est 
                 trop ooouuf -->
                <div class="modal fade" id="addHostModal" tabindex="-1"
                  aria-labelledby="addHostModalLabel"
                  aria-hidden="true">
                  <div class="modal-dialog modal-lg modal-dialog-scrollable">
                    <div class="modal-content">
                      <div class="modal-header">
                        <h5 class="modal-title" id="addHostModalLabel">
                          <i class="bi bi-pc-display-horizontal me-2"></i>
                          Ajouter un hôte
                        </h5>
                        <button type="button" class="btn-close"
                          data-bs-dismiss="modal" aria-label="Fermer"></button>
                      </div>

                      <div class="modal-body">
                        <!-- Zone Scanner genre on lance le scan ici quoi  -->
                        <div class="mb-3">
                          <button id="scanButton" class="btn btn-outline-info">
                            <i class="bi bi-search"></i> Scanner les hôtes
                            disponibles
                          </button>

                          <div id="host-list" class="list-group mt-3">
                            <!-- Liste des hôtes détectés pour le moment  tu vois que je n'ai rien mis 
                             quand on lancera le scan les choses viendront normalement 
                             mais pour le moment je vais mettre des fausses donné pour la simulation pour qu'on ne souffre 
                             pas trop  -->
                          </div>
                        </div>

                        <!-- Formulaire dynamique donc comme wil le disait c'est ici maintenant que le formulaire commence-->
                        <div id="host-form-zone" class="card p-4 d-none">
                          <h6 class="mb-3">Configurer l’hôte sélectionné</h6>
                          <form id="host-form">
                            <div class="mb-3">
                              <label for="hostName" class="form-label">Nom de
                                l'hôte</label>
                              <input type="text" class="form-control"
                                id="hostName" readonly>
                            </div>
                            <div class="mb-3">
                              <label for="hostIP" class="form-label">Adresse
                                IP</label>
                              <input type="text" class="form-control"
                                id="hostIP" readonly>
                            </div>
                            <div class="mb-3">
                              <label class="form-label">Services à
                                surveiller</label>
                              <div class="dropdown">
                                <button
                                  class="btn btn-outline-secondary dropdown-toggle"
                                  type="button"
                                  data-bs-toggle="dropdown">
                                  Choisir les services
                                </button>
                                <ul class="dropdown-menu p-2"
                                  style="min-width: 250px;">
                                  <li><label class="form-check"><input
                                        class="form-check-input" type="checkbox"
                                        value="HTTP"> HTTP</label></li>
                                  <li><label class="form-check"><input
                                        class="form-check-input" type="checkbox"
                                        value="SSH"> SSH</label></li>
                                  <li><label class="form-check"><input
                                        class="form-check-input" type="checkbox"
                                        value="FTP"> FTP</label></li>
                                  <li><label class="form-check"><input
                                        class="form-check-input" type="checkbox"
                                        value="MySQL"> MySQL</label></li>
                                </ul>
                              </div>
                            </div>
                            <div class="mb-3">
                              <label for="url" class="form-label">URL de
                                supervision</label>
                              <input type="text" class="form-control" id="url"
                                placeholder="http://192.168.x.x/survapp/blabla...">
                            </div>
                          </form>
                        </div>
                      </div>

                      <div class="modal-footer">
                        <button type="button" class="btn btn-secondary"
                          data-bs-dismiss="modal">Annuler</button>
                        <button type="submit" class="btn btn-success"
                          form="host-form" href="#">Enregistrer</button>
                      </div>
                    </div>
                  </div>
                </div>
                <!-- --===================le modal prend fin ici (modal d'ajout d'équipement biensur )--=====================-->
              </div>
            </div>
          </div>
          <div id="utilisateurs" class="page-section d-none">
            <h4 class="mb-4 d-flex align-items-center">
              <i class="bi bi-people-fill me-2 fs-4"></i> Utilisateurs
            </h4>

            <div class="card p-4 mb-4">
              <!-- Boutons et filtres juste en haut là -->
              <div class="d-flex flex-wrap align-items-center gap-2 mb-3">
                <button class="btn btn-primary" data-bs-toggle="modal"
                  data-bs-target="#addUserModal">
                  <i class="bi bi-person-plus-fill me-1"></i> Ajouter un
                  utilisateur
                </button>

                <input type="text" class="form-control"
                  placeholder="Rechercher un utilisateur..."
                  style="max-width: 220px;">

                <select class="form-select" style="max-width: 180px;">
                  <option>Tous les rôles</option>
                  <option>Administrateur</option>
                  <option>Utilisateur</option>
                </select>

                <select class="form-select" style="max-width: 180px;">
                  <option>Tous les statuts</option>
                  <option>Actif</option>
                  <option>Inactif</option>
                </select>

                <button class="btn btn-success ms-auto">
                  <i class="bi bi-download me-1"></i> Exporter CSV
                </button>
              </div>

              <!-- Résumés -->
              <div class="d-flex flex-wrap gap-3 mb-3">
                <div class="badge bg-primary text-light p-3 rounded">
                  Total utilisateurs: <strong>156</strong>
                </div>
                <div class="badge bg-info text-light p-3 rounded">
                  Actifs: <strong>24</strong>
                </div>
                <div class="badge bg-dark text-light p-3 rounded">
                  Administrateurs: <strong>5</strong>
                </div>
              </div>

              <!-- Tableau des user ...disons même que c'est un commentaire inutiles haha -->
              <div class="table-responsive">
                <table
                  class="table table-hover table-dark align-middle text-nowrap">
                  <thead class="table-hote">
                    <tr>
                      <th>Nom</th>
                      <th>Email</th>
                      <th>Rôle</th>
                      <th>Statut</th>
                      <th>Actions</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td>Jean Dupont</td>
                      <td>jean.dupont@email.com</td>
                      <td>Administrateur</td>
                      <td><span class="badge bg-success">ACTIF</span></td>
                      <td>
                        <button class="btn btn-sm btn-primary me-1"><i
                            class="bi bi-pencil-square"></i></button>
                        <button class="btn btn-sm btn-warning me-1"><i
                            class="bi bi-bounding-box"></i></button>
                        <button class="btn btn-sm btn-danger"><i
                            class="bi bi-trash"></i></button>
                      </td>
                    </tr>
                    <tr>
                      <td>Marie Martin</td>
                      <td>marie.martin@email.com</td>
                      <td>Utilisateur</td>
                      <td><span class="badge bg-success">ACTIF</span></td>
                      <td>
                        <button class="btn btn-sm btn-primary me-1"><i
                            class="bi bi-pencil-square"></i></button>
                        <button class="btn btn-sm btn-warning me-1"><i
                            class="bi bi-bounding-box"></i></button>
                        <button class="btn btn-sm btn-danger"><i
                            class="bi bi-trash"></i></button>
                      </td>
                    </tr>
                    <tr>
                      <td>Paul Durand</td>
                      <td>paul.durand@email.com</td>
                      <td>Utilisateur</td>
                      <td><span class="badge bg-secondary">INACTIF</span></td>
                      <td>
                        <button class="btn btn-sm btn-primary me-1"><i
                            class="bi bi-pencil-square"></i></button>
                        <button class="btn btn-sm btn-warning me-1"><i
                            class="bi bi-bounding-box"></i></button>
                        <button class="btn btn-sm btn-danger"><i
                            class="bi bi-trash"></i></button>
                      </td>
                    </tr>
                  </tbody>
                </table>
                <!-- Modal d'ajout d'un user excusez de faire du css à l'interieur comme ça c'est pas cool mais on n'a 
                 pas trop le temps ... on paufinera tout ça après  -->
                <div class="modal fade" id="addUserModal" tabindex="-1"
                  aria-labelledby="addUserModalLabel" aria-hidden="true">
                  <div class="modal-dialog">
                    <div class="modal-content"
                      style="background-color: var(--card-bg); color: var(--card-text);">
                      <div class="modal-header">
                        <h5 class="modal-title" id="addUserModalLabel">
                          <i class="bi bi-person-plus-fill me-2"></i> Ajouter un
                          utilisateur
                        </h5>
                        <button type="button" class="btn-close"
                          data-bs-dismiss="modal" aria-label="Fermer"></button>
                      </div>
                      <div class="modal-body">
                        <form id="addUserForm">
                          <div class="mb-3">
                            <label for="prenom"
                              class="form-label">Prénom</label>
                            <input type="text" class="form-control" id="prenom"
                              placeholder="Prénom">
                          </div>
                          <div class="mb-3">
                            <label for="nom" class="form-label">Nom</label>
                            <input type="text" class="form-control" id="nom"
                              placeholder="Nom">
                          </div>
                          <div class="mb-3">
                            <label for="email" class="form-label">Email</label>
                            <input type="email" class="form-control" id="email"
                              placeholder="Email">
                          </div>
                          <div class="mb-3">
                            <label for="role" class="form-label">Rôle</label>
                            <select id="role" class="form-select">
                              <option value>Choisir un rôle</option>
                              <option value="admin">Administrateur</option>
                              <option value="user">Utilisateur</option>
                            </select>
                          </div>
                          <div class="mb-3">
                            <label for="etat" class="form-label">État</label>
                            <select id="etat" class="form-select">
                              <option value="actif">Actif</option>
                              <option value="inactif">Inactif</option>
                            </select>
                          </div>
                          <div class="mb-3 position-relative">
                            <label for="password" class="form-label">Mot de
                              passe</label>
                            <input type="password" class="form-control"
                              id="password" placeholder="Mot de passe">
                            <i
                              class="bi bi-eye-slash position-absolute top-50 end-0 translate-middle-y me-3 mt-3 text-muted password-toggle"
                              data-target="#password" role="button"></i>
                          </div>
                          <div class="mb-3 position-relative">
                            <label for="confirmPassword"
                              class="form-label">Confirmation</label>
                            <input type="password" class="form-control"
                              id="confirmPassword"
                              placeholder="Confirmation mot de passe">
                            <i
                              class="bi bi-eye-slash position-absolute top-50 end-0 translate-middle-y me-3 mt-3  text-muted password-toggle"
                              data-target="#confirmPassword" role="button"></i>
                          </div>
                        </form>
                      </div>
                      <div class="modal-footer">
                        <button type="submit"
                          class="btn btn-primary"
                          form="addUserForm">Enregistrer</button>
                        <button type="button" class="btn btn-secondary"
                          data-bs-dismiss="modal">Annuler</button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div id="roles" class="page-section d-none">
            <h4 class="mb-4 d-flex align-items-center">
              <i class="bi bi-shield-lock me-2 fs-4"></i> Gestion des rôles et
              permissions
            </h4>

            <div class="card p-4 mb-4">
              <div class="d-flex justify-content-between mb-3">
                <button class="btn btn-primary" data-bs-toggle="modal"
                  data-bs-target="#roleModal">
                  <i class="bi bi-plus-circle me-1"></i> Ajouter un rôle
                </button>
                <input type="search" class="form-control w-auto"
                  placeholder="Rechercher un rôle...">
              </div>

              <div class="table-responsive">
                <table class="table table-striped align-middle">
                  <thead>
                    <tr>
                      <th>Rôle</th>
                      <th>Permissions</th>
                      <th>Actions</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td>Administrateur</td>
                      <td>
                        <span class="badge bg-success">Voir utilisateurs</span>
                        <span class="badge bg-success">Ajouter
                          utilisateurs</span>
                        <span class="badge bg-success">Modifier rôles</span>
                      </td>
                      <td>
                        <button class="btn btn-sm btn-primary me-1"
                          data-bs-toggle="modal" data-bs-target="#roleModal">
                          <i class="bi bi-pencil"></i>
                        </button>
                        <button class="btn btn-sm btn-danger">
                          <i class="bi bi-trash"></i>
                        </button>
                      </td>
                    </tr>
                    <tr>
                      <td>Utilisateur</td>
                      <td>
                        <span class="badge bg-secondary">Voir son profil</span>
                        <span class="badge bg-secondary">Modifier son mot de
                          passe</span>
                      </td>
                      <td>
                        <button class="btn btn-sm btn-primary me-1"
                          data-bs-toggle="modal" data-bs-target="#roleModal">
                          <i class="bi bi-pencil"></i>
                        </button>
                        <button class="btn btn-sm btn-danger">
                          <i class="bi bi-trash"></i>
                        </button>
                      </td>
                    </tr>
                  </tbody>
                </table>
                <!-- ici c'etst le modal d'ajout que je maintiendrai aussi pour l'édition des roles -->
                <div class="modal fade" id="roleModal" tabindex="-1"
                  aria-labelledby="roleModalLabel" aria-hidden="true">
                  <div class="modal-dialog modal-lg modal-dialog-centered">
                    <div class="modal-content">
                      <div class="modal-header">
                        <h5 class="modal-title"
                          id="roleModalLabel">Ajouter/Modifier un rôle</h5>
                        <button type="button" class="btn-close"
                          data-bs-dismiss="modal" aria-label="Fermer"></button>
                      </div>
                      <form id="roleForm">
                        <div class="modal-body">
                          <div class="mb-3">
                            <label for="roleName" class="form-label">Nom du
                              rôle</label>
                            <input type="text" class="form-control"
                              id="roleName" required>
                          </div>

                          <div class="mb-3">
                            <label class="form-label">Permissions</label>
                            <div class="row">
                              <div class="col-md-4">
                                <div class="form-check">
                                  <input class="form-check-input"
                                    type="checkbox" id="perm1">
                                  <label class="form-check-label"
                                    for="perm1">Voir utilisateurs</label>
                                </div>
                                <div class="form-check">
                                  <input class="form-check-input"
                                    type="checkbox" id="perm2">
                                  <label class="form-check-label"
                                    for="perm2">Ajouter utilisateurs</label>
                                </div>
                              </div>
                              <div class="col-md-4">
                                <div class="form-check">
                                  <input class="form-check-input"
                                    type="checkbox" id="perm3">
                                  <label class="form-check-label"
                                    for="perm3">Modifier rôles</label>
                                </div>
                                <div class="form-check">
                                  <input class="form-check-input"
                                    type="checkbox" id="perm4">
                                  <label class="form-check-label"
                                    for="perm4">Supprimer utilisateurs</label>
                                </div>
                              </div>
                              <div class="col-md-4">
                                <div class="form-check">
                                  <input class="form-check-input"
                                    type="checkbox" id="perm5">
                                  <label class="form-check-label"
                                    for="perm5">Gérer logs</label>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="modal-footer">
                          <button type="submit"
                            class="btn btn-primary">Enregistrer</button>
                          <button type="button" class="btn btn-secondary"
                            data-bs-dismiss="modal">Annuler</button>
                        </div>
                      </form>
                    </div>
                  </div>
                </div>

              </div>
            </div>
          </div>

          <!--Services-->

          <div id="services" class="page-section d-none">
            <!-- En-tête avec statistiques -->
            <div
              class="d-flex justify-content-between align-items-center mb-4 flex-wrap">
              <div>
                <h2 class="mb-0 d-flex align-items-center">
                  <i class="bi bi-hdd-stack me-2 fs-4 text-primary"></i>
                  <span class="gradient-text">Gestion des Services</span>
                </h2>
                <div class="d-flex gap-3 mt-2">
                  <span class="text-muted">
                    <i class="bi bi-check-circle me-1"></i> Services actifs :
                    <span class="text-success fw-bold"
                      id="activeServices">12</span>/15
                  </span>
                  <span class="text-muted">
                    <i class="bi bi-exclamation-triangle me-1"></i> Problèmes :
                    <span class="text-warning fw-bold"
                      id="warningServices">2</span>
                  </span>
                  <span class="text-muted">
                    <i class="bi bi-x-circle me-1"></i> Critiques :
                    <span class="text-danger fw-bold"
                      id="criticalServices">1</span>
                  </span>
                </div>
              </div>

              <div class="d-flex gap-2 mt-2 mt-md-0">
                <button class="btn btn-refresh btn-outline-light">
                  <i class="bi bi-arrow-clockwise"></i>
                  <span class="d-none d-md-inline">Actualiser</span>
                </button>
                <button class="btn btn-primary" data-bs-toggle="modal"
                  data-bs-target="#addServiceModal">
                  <i class="bi bi-plus-lg"></i>
                  <span class="d-none d-md-inline">Ajouter un service</span>
                </button>
              </div>
            </div>

            <!-- Filtres et recherche -->
            <div class="card mb-4 border-0 shadow-sm">
              <div class="card-body p-3">
                <div class="row g-3 align-items-end">
                  <div class="col-lg-3 col-md-6">
                    <label class="form-label small mb-1">Statut</label>
                    <select id="filterStatus" class="form-select">
                      <option value>Tous les statuts</option>
                      <option value="ok">Opérationnel</option>
                      <option value="warning">Avertissement</option>
                      <option value="error">Erreur</option>
                      <option value="maintenance">Maintenance</option>
                    </select>
                  </div>
                  <div class="col-lg-3 col-md-6">
                    <label class="form-label small mb-1">Serveur</label>
                    <select id="filterServer" class="form-select">
                      <option value>Tous les serveurs</option>
                      <option value="web-server-01">web-server-01</option>
                      <option value="db-server-01">db-server-01</option>
                      <option value="file-server-01">file-server-01</option>
                    </select>
                  </div>
                  <div class="col-lg-4 col-md-8">
                    <label class="form-label small mb-1">Recherche</label>
                    <div class="input-group">
                      <span class="input-group-text"><i
                          class="bi bi-search"></i></span>
                      <input type="text" class="form-control"
                        placeholder="Rechercher un service...">
                    </div>
                  </div>
                  <div class="col-lg-2 col-md-4 d-flex">
                    <button id="resetFilters"
                      class="btn btn-outline-secondary w-100">
                      <i class="bi bi-x-lg me-1"></i> Réinitialiser
                    </button>
                  </div>
                </div>
              </div>
            </div>

            <!-- Liste des services -->
            <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
              <!-- Service HTTP -->
              <div class="col">
                <div class="card service-card h-100 border-0 shadow-sm">
                  <div class="card-body">
                    <div
                      class="d-flex justify-content-between align-items-start mb-3">
                      <div class="d-flex align-items-center">
                        <div
                          class="service-icon bg-primary bg-opacity-10 text-primary">
                          <i class="bi bi-globe"></i>
                        </div>
                        <div class="ms-3">
                          <h5 class="mb-0">HTTP</h5>
                          <small class="text-muted">web-server-01</small>
                        </div>
                      </div>
                      <span class="badge bg-success">Opérationnel</span>
                    </div>

                    <div class="mb-4">
                      <div class="d-flex justify-content-between mb-1">
                        <span>Charge CPU</span>
                        <span>24%</span>
                      </div>
                      <div class="progress" style="height: 6px;">
                        <div class="progress-bar bg-success"
                          style="width: 24%"></div>
                      </div>
                    </div>

                    <div class="mb-4">
                      <div class="d-flex justify-content-between mb-1">
                        <span>Utilisation mémoire</span>
                        <span>1.2GB/4GB</span>
                      </div>
                      <div class="progress" style="height: 6px;">
                        <div class="progress-bar bg-info"
                          style="width: 30%"></div>
                      </div>
                    </div>

                    <div class="d-flex justify-content-between">
                      <button class="btn btn-sm btn-outline-primary"
                        data-bs-toggle="modal"
                        data-bs-target="#serviceDetailsModal">
                        <i class="bi bi-eye me-1"></i> Détails
                      </button>
                      <div class="dropdown">
                        <button
                          class="btn btn-sm btn-outline-secondary dropdown-toggle"
                          type="button" data-bs-toggle="dropdown">
                          Actions
                        </button>
                        <ul class="dropdown-menu dropdown-menu-end">
                          <li><a class="dropdown-item" href="#"
                              data-bs-toggle="modal"
                              data-bs-target="#restartServiceModal"><i
                                class="bi bi-arrow-repeat me-2"></i>Redémarrer</a></li>
                          <li><a class="dropdown-item" href="#"
                              data-bs-toggle="modal"
                              data-bs-target="#maintenanceModal"><i
                                class="bi bi-tools me-2"></i>Maintenance</a></li>
                          <li><hr class="dropdown-divider"></li>
                          <li><a class="dropdown-item text-danger" href="#"
                              data-bs-toggle="modal"
                              data-bs-target="#deleteServiceModal"><i
                                class="bi bi-trash me-2"></i>Supprimer</a></li>
                        </ul>
                      </div>
                    </div>
                  </div>
                  <div
                    class="card-footer bg-transparent border-top-0 d-flex justify-content-between">
                    <small class="text-muted">Port: 80/443</small>
                    <small class="text-muted">Dernière vérification: 2
                      min</small>
                  </div>
                </div>
              </div>

              <!-- Service FTP -->
              <div class="col">
                <div class="card service-card h-100 border-0 shadow-sm">
                  <div class="card-body">
                    <div
                      class="d-flex justify-content-between align-items-start mb-3">
                      <div class="d-flex align-items-center">
                        <div
                          class="service-icon bg-warning bg-opacity-10 text-warning">
                          <i class="bi bi-file-earmark-arrow-up"></i>
                        </div>
                        <div class="ms-3">
                          <h5 class="mb-0">FTP</h5>
                          <small class="text-muted">web-server-01</small>
                        </div>
                      </div>
                      <span class="badge bg-warning">Avertissement</span>
                    </div>

                    <div class="mb-4">
                      <div class="d-flex justify-content-between mb-1">
                        <span>Charge CPU</span>
                        <span>68%</span>
                      </div>
                      <div class="progress" style="height: 6px;">
                        <div class="progress-bar bg-warning"
                          style="width: 68%"></div>
                      </div>
                    </div>

                    <div class="mb-4">
                      <div class="d-flex justify-content-between mb-1">
                        <span>Utilisation mémoire</span>
                        <span>3.1GB/4GB</span>
                      </div>
                      <div class="progress" style="height: 6px;">
                        <div class="progress-bar bg-warning"
                          style="width: 78%"></div>
                      </div>
                    </div>

                    <div class="d-flex justify-content-between">
                      <button class="btn btn-sm btn-outline-primary"
                        data-bs-toggle="modal"
                        data-bs-target="#serviceDetailsModal">
                        <i class="bi bi-eye me-1"></i> Détails
                      </button>
                      <div class="dropdown">
                        <button
                          class="btn btn-sm btn-outline-secondary dropdown-toggle"
                          type="button" data-bs-toggle="dropdown">
                          Actions
                        </button>
                        <ul class="dropdown-menu dropdown-menu-end">
                          <li><a class="dropdown-item" href="#"
                              data-bs-toggle="modal"
                              data-bs-target="#restartServiceModal"><i
                                class="bi bi-arrow-repeat me-2"></i>Redémarrer</a></li>
                          <li><a class="dropdown-item" href="#"
                              data-bs-toggle="modal"
                              data-bs-target="#maintenanceModal"><i
                                class="bi bi-tools me-2"></i>Maintenance</a></li>
                          <li><hr class="dropdown-divider"></li>
                          <li><a class="dropdown-item text-danger" href="#"
                              data-bs-toggle="modal"
                              data-bs-target="#deleteServiceModal"><i
                                class="bi bi-trash me-2"></i>Supprimer</a></li>
                        </ul>
                      </div>
                    </div>
                  </div>
                  <div
                    class="card-footer bg-transparent border-top-0 d-flex justify-content-between">
                    <small class="text-muted">Port: 21</small>
                    <small class="text-muted">Dernière vérification: 4
                      min</small>
                  </div>
                </div>
              </div>

              <!-- Service SSH -->
              <div class="col">
                <div class="card service-card h-100 border-0 shadow-sm">
                  <div class="card-body">
                    <div
                      class="d-flex justify-content-between align-items-start mb-3">
                      <div class="d-flex align-items-center">
                        <div
                          class="service-icon bg-danger bg-opacity-10 text-danger">
                          <i class="bi bi-lock"></i>
                        </div>
                        <div class="ms-3">
                          <h5 class="mb-0">SSH</h5>
                          <small class="text-muted">db-server-01</small>
                        </div>
                      </div>
                      <span class="badge bg-danger">Hors ligne</span>
                    </div>

                    <div class="mb-4">
                      <div class="d-flex justify-content-between mb-1">
                        <span>Charge CPU</span>
                        <span>N/A</span>
                      </div>
                      <div class="progress" style="height: 6px;">
                        <div class="progress-bar bg-danger"
                          style="width: 100%"></div>
                      </div>
                    </div>

                    <div class="mb-4">
                      <div class="d-flex justify-content-between mb-1">
                        <span>Utilisation mémoire</span>
                        <span>N/A</span>
                      </div>
                      <div class="progress" style="height: 6px;">
                        <div class="progress-bar bg-danger"
                          style="width: 100%"></div>
                      </div>
                    </div>

                    <div class="d-flex justify-content-between">
                      <button class="btn btn-sm btn-outline-primary"
                        data-bs-toggle="modal"
                        data-bs-target="#serviceDetailsModal">
                        <i class="bi bi-eye me-1"></i> Détails
                      </button>
                      <div class="dropdown">
                        <button
                          class="btn btn-sm btn-outline-secondary dropdown-toggle"
                          type="button" data-bs-toggle="dropdown">
                          Actions
                        </button>
                        <ul class="dropdown-menu dropdown-menu-end">
                          <li><a class="dropdown-item" href="#"
                              data-bs-toggle="modal"
                              data-bs-target="#restartServiceModal"><i
                                class="bi bi-arrow-repeat me-2"></i>Redémarrer</a></li>
                          <li><a class="dropdown-item" href="#"
                              data-bs-toggle="modal"
                              data-bs-target="#maintenanceModal"><i
                                class="bi bi-tools me-2"></i>Maintenance</a></li>
                          <li><hr class="dropdown-divider"></li>
                          <li><a class="dropdown-item text-danger" href="#"
                              data-bs-toggle="modal"
                              data-bs-target="#deleteServiceModal"><i
                                class="bi bi-trash me-2"></i>Supprimer</a></li>
                        </ul>
                      </div>
                    </div>
                  </div>
                  <div
                    class="card-footer bg-transparent border-top-0 d-flex justify-content-between">
                    <small class="text-muted">Port: 22</small>
                    <small class="text-muted">Dernière vérification: 12
                      min</small>
                  </div>
                </div>
              </div>
            </div>

            <!-- Pagination -->
            <nav aria-label="Page navigation" class="mt-4">
              <ul class="pagination justify-content-center">
                <li class="page-item disabled">
                  <a class="page-link" href="#" tabindex="-1">
                    <i class="bi bi-chevron-left"></i>
                  </a>
                </li>
                <li class="page-item active"><a class="page-link"
                    href="#">1</a></li>
                <li class="page-item"><a class="page-link" href="#">2</a></li>
                <li class="page-item"><a class="page-link" href="#">3</a></li>
                <li class="page-item">
                  <a class="page-link" href="#">
                    <i class="bi bi-chevron-right"></i>
                  </a>
                </li>
              </ul>
            </nav>

            <!-- Modal Détails Service -->
            <div class="modal fade" id="serviceDetailsModal" tabindex="-1"
              aria-labelledby="serviceDetailsModalLabel" aria-hidden="true">
              <div class="modal-dialog modal-lg">
                <div class="modal-content">
                  <div class="modal-header bg-dark text-white">
                    <h5 class="modal-title" id="serviceDetailsModalLabel">
                      <i class="bi bi-info-circle me-2"></i>Détails du service
                    </h5>
                    <button type="button" class="btn-close btn-close-white"
                      data-bs-dismiss="modal" aria-label="Close"></button>
                  </div>
                  <div class="modal-body">
                    <div class="row mb-4">
                      <div class="col-md-6">
                        <div class="d-flex align-items-center mb-3">
                          <div
                            class="service-icon-lg bg-primary bg-opacity-10 text-primary me-3">
                            <i class="bi bi-globe"></i>
                          </div>
                          <div>
                            <h4 class="mb-0">HTTP</h4>
                            <small class="text-muted">web-server-01</small>
                          </div>
                        </div>

                        <div class="mb-3">
                          <h6 class="section-title">Informations de base</h6>
                          <ul class="list-group list-group-flush">
                            <li
                              class="list-group-item d-flex justify-content-between">
                              <span>Statut:</span>
                              <span class="badge bg-success">Opérationnel</span>
                            </li>
                            <li
                              class="list-group-item d-flex justify-content-between">
                              <span>Ports:</span>
                              <span>80 (HTTP), 443 (HTTPS)</span>
                            </li>
                            <li
                              class="list-group-item d-flex justify-content-between">
                              <span>Version:</span>
                              <span>Apache 2.4.52</span>
                            </li>
                            <li
                              class="list-group-item d-flex justify-content-between">
                              <span>Déployé le:</span>
                              <span>15/03/2024</span>
                            </li>
                          </ul>
                        </div>
                      </div>
                      <div class="col-md-6">
                        <h6 class="section-title">Métriques en temps réel</h6>
                        <div class="card mb-3">
                          <div class="card-body">
                            <div class="d-flex justify-content-between mb-2">
                              <span>Charge CPU</span>
                              <span>24%</span>
                            </div>
                            <div class="progress" style="height: 8px;">
                              <div class="progress-bar bg-success"
                                style="width: 24%"></div>
                            </div>
                          </div>
                        </div>
                        <div class="card mb-3">
                          <div class="card-body">
                            <div class="d-flex justify-content-between mb-2">
                              <span>Utilisation mémoire</span>
                              <span>1.2GB / 4GB</span>
                            </div>
                            <div class="progress" style="height: 8px;">
                              <div class="progress-bar bg-info"
                                style="width: 30%"></div>
                            </div>
                          </div>
                        </div>
                        <div class="card">
                          <div class="card-body">
                            <div class="d-flex justify-content-between mb-2">
                              <span>Connexions actives</span>
                              <span>42</span>
                            </div>
                            <div class="progress" style="height: 8px;">
                              <div class="progress-bar bg-primary"
                                style="width: 42%"></div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>

                    <div class="mb-4">
                      <h6 class="section-title">Dépendances</h6>
                      <div class="d-flex flex-wrap gap-2">
                        <span class="badge bg-secondary">MySQL</span>
                        <span class="badge bg-secondary">PHP</span>
                        <span class="badge bg-secondary">Redis</span>
                        <span class="badge bg-secondary">Load Balancer</span>
                      </div>
                    </div>

                    <div>
                      <h6 class="section-title">Historique des incidents</h6>
                      <div class="card">
                        <div class="card-body">
                          <canvas id="serviceHistoryChart"
                            height="100"></canvas>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="modal-footer">
                    <button type="button" class="btn btn-secondary"
                      data-bs-dismiss="modal">Fermer</button>
                    <button type="button" class="btn btn-primary">Voir les
                      logs</button>
                  </div>
                </div>
              </div>
            </div>

            <!-- Modal Ajout Service -->
            <div class="modal fade" id="addServiceModal" tabindex="-1"
              aria-labelledby="addServiceModalLabel" aria-hidden="true">
              <div class="modal-dialog">
                <div class="modal-content">
                  <div class="modal-header bg-dark text-white">
                    <h5 class="modal-title" id="addServiceModalLabel">
                      <i class="bi bi-plus-lg me-2"></i>Ajouter un service
                    </h5>
                    <button type="button" class="btn-close btn-close-white"
                      data-bs-dismiss="modal" aria-label="Close"></button>
                  </div>
                  <div class="modal-body">
                    <form>
                      <div class="mb-3">
                        <label for="serviceName" class="form-label">Nom du
                          service</label>
                        <input type="text" class="form-control" id="serviceName"
                          placeholder="Ex: HTTP, MySQL, Redis...">
                      </div>
                      <div class="mb-3">
                        <label for="serviceType" class="form-label">Type de
                          service</label>
                        <select class="form-select" id="serviceType">
                          <option value="web">Service Web</option>
                          <option value="database">Base de données</option>
                          <option value="file">Service de fichiers</option>
                          <option value="other">Autre</option>
                        </select>
                      </div>
                      <div class="mb-3">
                        <label for="serviceHost" class="form-label">Serveur
                          hôte</label>
                        <select class="form-select" id="serviceHost">
                          <option value="web-server-01">web-server-01</option>
                          <option value="db-server-01">db-server-01</option>
                          <option value="file-server-01">file-server-01</option>
                        </select>
                      </div>
                      <div class="mb-3">
                        <label for="servicePort"
                          class="form-label">Port(s)</label>
                        <input type="text" class="form-control" id="servicePort"
                          placeholder="Ex: 80, 443 ou 3306">
                      </div>
                      <div class="mb-3">
                        <label for="serviceMonitor" class="form-label">URL de
                          monitoring</label>
                        <input type="text" class="form-control"
                          id="serviceMonitor"
                          placeholder="Ex: http://monitor.example.com/api">
                      </div>
                    </form>
                  </div>
                  <div class="modal-footer">
                    <button type="button" class="btn btn-secondary"
                      data-bs-dismiss="modal">Annuler</button>
                    <button type="button"
                      class="btn btn-primary">Enregistrer</button>
                  </div>
                </div>
              </div>
            </div>

            <!-- Modal Redémarrer Service -->
            <div class="modal fade" id="restartServiceModal" tabindex="-1"
              aria-labelledby="restartServiceModalLabel" aria-hidden="true">
              <div class="modal-dialog">
                <div class="modal-content">
                  <div class="modal-header bg-warning text-white">
                    <h5 class="modal-title" id="restartServiceModalLabel">
                      <i
                        class="bi bi-exclamation-triangle me-2"></i>Confirmation
                    </h5>
                    <button type="button" class="btn-close btn-close-white"
                      data-bs-dismiss="modal" aria-label="Close"></button>
                  </div>
                  <div class="modal-body">
                    <p>Êtes-vous sûr de vouloir redémarrer le service
                      <strong>HTTP</strong> sur <strong>web-server-01</strong>
                      ?</p>
                    <div class="alert alert-warning">
                      <i class="bi bi-info-circle me-2"></i>Cette opération peut
                      causer une interruption temporaire du service.
                    </div>
                  </div>
                  <div class="modal-footer">
                    <button type="button" class="btn btn-secondary"
                      data-bs-dismiss="modal">Annuler</button>
                    <button type="button"
                      class="btn btn-warning text-white">Confirmer le
                      redémarrage</button>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Alertes améliorées -->
          <div id="alertes" class="page-section d-none">
            <div class="d-flex justify-content-between align-items-center mb-4">
              <h4 class="mb-0 d-flex align-items-center">
                <i
                  class="bi bi-exclamation-triangle-fill me-2 fs-4 text-warning"></i>
                Alertes en temps réel
              </h4>
              <div>
                <span class="badge bg-danger me-2" id="liveAlertBadge">
                  <i class="bi bi-circle-fill pe-1"></i> En direct
                </span>
                <button class="btn btn-sm btn-outline-secondary"
                  onclick="refreshAlerts()">
                  <i class="bi bi-arrow-clockwise"></i> Actualiser
                </button>
              </div>
            </div>

            <!-- Filtres avancés -->
            <div class="row mb-3 g-3">
              <div class="col-md-4">
                <div class="input-group">
                  <span class="input-group-text"><i
                      class="bi bi-search"></i></span>
                  <input type="text" id="searchInput" class="form-control"
                    placeholder="Rechercher une alerte...">
                </div>
              </div>
              <div class="col-md-8">
                <div class="d-flex flex-wrap justify-content-end gap-2">
                  <select id="severityFilter" class="form-select w-auto"
                    onchange="filterTable()">
                    <option value>Tous niveaux</option>
                    <option value="Critique">Critique</option>
                    <option value="Majeure">Majeure</option>
                    <option value="Mineure">Mineure</option>
                    <option value="Information">Information</option>
                  </select>
                  <select id="typeFilter" class="form-select w-auto"
                    onchange="filterTable()">
                    <option value>Tous types</option>
                    <option value="Routeur">Routeur</option>
                    <option value="Switch">Switch</option>
                    <option value="Serveur">Serveur</option>
                    <option value="Sécurité">Sécurité</option>
                  </select>
                  <div class="input-group w-auto">
                    <span class="input-group-text"><i
                        class="bi bi-calendar"></i></span>
                    <input type="date" id="dateFilter" class="form-control"
                      onchange="filterTable()">
                  </div>
                  <button class="btn btn-outline-danger btn-sm"
                    onclick="clearFilters()">
                    <i class="bi bi-x-circle"></i> Réinitialiser
                  </button>
                </div>
              </div>
            </div>

            <!-- Tableau d'alertes amélioré -->
            <div class="table-responsive rounded-3 shadow-sm">
              <table class="table table-hover align-middle" id="alertesTable">
                <thead class="table-dark">
                  <tr>
                    <th style="width: 120px;">Type</th>
                    <th style="width: 100px;">Gravité</th>
                    <th style="width: 150px;">Heure</th>
                    <th>Description</th>
                    <th style="width: 150px;">Statut</th>
                    <th style="width: 120px;">Actions</th>
                  </tr>
                </thead>
                <tbody id="alertesBody">
                  <tr class="alert-row" data-severity="Critique"
                    data-type="Routeur" data-date="2025-07-27">
                    <td><i class="bi bi-router me-2"></i>Routeur</td>
                    <td><span class="badge bg-danger">Critique</span></td>
                    <td>2025-07-27 09:45</td>
                    <td>Connexion perdue avec R1 (192.168.1.1)</td>
                    <td><span class="badge bg-warning text-dark">Non
                        acquittée</span></td>
                    <td>
                      <button class="btn btn-sm btn-success me-1"
                        onclick="acquitter(this)" title="Acquitter">
                        <i class="bi bi-check-circle"></i>
                      </button>
                      <button class="btn btn-sm btn-info"
                        onclick="showDetails(this)" title="Détails">
                        <i class="bi bi-info-circle"></i>
                      </button>
                    </td>
                  </tr>
                  <tr class="alert-row" data-severity="Majeure"
                    data-type="Switch" data-date="2025-07-27">
                    <td><i class="bi bi-hdd-stack me-2"></i>Switch</td>
                    <td><span
                        class="badge bg-warning text-dark">Majeure</span></td>
                    <td>2025-07-27 09:50</td>
                    <td>Température élevée sur Switch2 (72°C)</td>
                    <td><span class="badge bg-warning text-dark">Non
                        acquittée</span></td>
                    <td>
                      <button class="btn btn-sm btn-success me-1"
                        onclick="acquitter(this)" title="Acquitter">
                        <i class="bi bi-check-circle"></i>
                      </button>
                      <button class="btn btn-sm btn-info"
                        onclick="showDetails(this)" title="Détails">
                        <i class="bi bi-info-circle"></i>
                      </button>
                    </td>
                  </tr>
                  <tr class="alert-row" data-severity="Mineure"
                    data-type="Serveur" data-date="2025-07-27">
                    <td><i class="bi bi-server me-2"></i>Serveur</td>
                    <td><span class="badge bg-primary">Mineure</span></td>
                    <td>2025-07-27 09:52</td>
                    <td>Disque /var presque plein (92%) sur SRV-DB01</td>
                    <td><span class="badge bg-warning text-dark">Non
                        acquittée</span></td>
                    <td>
                      <button class="btn btn-sm btn-success me-1"
                        onclick="acquitter(this)" title="Acquitter">
                        <i class="bi bi-check-circle"></i>
                      </button>
                      <button class="btn btn-sm btn-info"
                        onclick="showDetails(this)" title="Détails">
                        <i class="bi bi-info-circle"></i>
                      </button>
                    </td>
                  </tr>
                  <tr class="alert-row" data-severity="Information"
                    data-type="Sécurité" data-date="2025-07-27">
                    <td><i class="bi bi-shield-lock me-2"></i>Sécurité</td>
                    <td><span class="badge bg-secondary">Information</span></td>
                    <td>2025-07-27 10:15</td>
                    <td>Nouvelle tentative de connexion SSH depuis
                      103.45.67.89</td>
                    <td><span class="badge bg-success">Acquittée</span></td>
                    <td>
                      <button class="btn btn-sm btn-secondary me-1" disabled
                        title="Déjà acquittée">
                        <i class="bi bi-check-circle"></i>
                      </button>
                      <button class="btn btn-sm btn-info"
                        onclick="showDetails(this)" title="Détails">
                        <i class="bi bi-info-circle"></i>
                      </button>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>

            <!-- Pagination -->
            <nav class="mt-3">
              <ul class="pagination justify-content-center">
                <li class="page-item disabled">
                  <a class="page-link" href="#" tabindex="-1">Précédent</a>
                </li>
                <li class="page-item active"><a class="page-link"
                    href="#">1</a></li>
                <li class="page-item"><a class="page-link" href="#">2</a></li>
                <li class="page-item"><a class="page-link" href="#">3</a></li>
                <li class="page-item">
                  <a class="page-link" href="#">Suivant</a>
                </li>
              </ul>
            </nav>

            <!-- Statistiques -->
            <div class="row mt-4 g-3">
              <div class="col-md-3">
                <div class="card bg-danger bg-opacity-10 border-danger">
                  <div class="card-body">
                    <h6 class="card-title text-danger"><i
                        class="bi bi-exclamation-triangle-fill"></i> Alertes
                      critiques</h6>
                    <h3 class="mb-0">12</h3>
                    <small class="text-muted">+2 depuis hier</small>
                  </div>
                </div>
              </div>
              <div class="col-md-3">
                <div class="card bg-warning bg-opacity-10 border-warning">
                  <div class="card-body">
                    <h6 class="card-title text-warning"><i
                        class="bi bi-exclamation-triangle"></i> Alertes
                      majeures</h6>
                    <h3 class="mb-0">24</h3>
                    <small class="text-muted">-5 depuis hier</small>
                  </div>
                </div>
              </div>
              <div class="col-md-3">
                <div class="card bg-primary bg-opacity-10 border-primary">
                  <div class="card-body">
                    <h6 class="card-title text-primary"><i
                        class="bi bi-info-circle"></i> Alertes mineures</h6>
                    <h3 class="mb-0">47</h3>
                    <small class="text-muted">+8 depuis hier</small>
                  </div>
                </div>
              </div>
              <div class="col-md-3">
                <div class="card bg-success bg-opacity-10 border-success">
                  <div class="card-body">
                    <h6 class="card-title text-success"><i
                        class="bi bi-check-circle"></i> Résolues</h6>
                    <h3 class="mb-0">83%</h3>
                    <small class="text-muted">92 sur 111 alertes</small>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Rapports améliorés -->
          <div id="rapport" class="page-section d-none">
            <div class="d-flex justify-content-between align-items-center mb-4">
              <h4 class="mb-0 d-flex align-items-center">
                <i
                  class="bi bi-file-earmark-bar-graph-fill me-2 fs-4 text-info"></i>
                Gestion des rapports
              </h4>
              <div class="dropdown">
                <button class="btn btn-outline-primary dropdown-toggle"
                  type="button" id="exportDropdown" data-bs-toggle="dropdown">
                  <i class="bi bi-download"></i> Exporter
                </button>
                <ul class="dropdown-menu dropdown-menu-end">
                  <li><a class="dropdown-item" href="#"><i
                        class="bi bi-filetype-pdf"></i> Format PDF</a></li>
                  <li><a class="dropdown-item" href="#"><i
                        class="bi bi-filetype-csv"></i> Format CSV</a></li>
                  <li><a class="dropdown-item" href="#"><i
                        class="bi bi-filetype-xlsx"></i> Format Excel</a></li>
                  <li><hr class="dropdown-divider"></li>
                  <li><a class="dropdown-item" href="#"><i
                        class="bi bi-printer"></i> Imprimer</a></li>
                </ul>
              </div>
            </div>

            <div class="row g-4">
              <!-- Formulaire de génération -->
              <div class="col-lg-4">
                <div class="card shadow-sm">
                  <div class="card-header bg-dark text-white">
                    <h5 class="mb-0"><i class="bi bi-magic"></i> Générer un
                      rapport</h5>
                  </div>
                  <div class="card-body">
                    <form id="reportForm">
                      <div class="mb-3">
                        <label class="form-label">Type de rapport</label>
                        <select class="form-select" required>
                          <option value selected disabled>Choisir un
                            type</option>
                          <option>Résumé quotidien</option>
                          <option>Analyse des incidents</option>
                          <option>Performances réseau</option>
                          <option>Audit de sécurité</option>
                          <option>Utilisation des ressources</option>
                        </select>
                      </div>

                      <div class="mb-3">
                        <label class="form-label">Période</label>
                        <div class="input-group">
                          <input type="date" class="form-control"
                            placeholder="Début">
                          <span class="input-group-text">à</span>
                          <input type="date" class="form-control"
                            placeholder="Fin">
                        </div>
                      </div>

                      <div class="mb-3">
                        <label class="form-label">Options avancées</label>
                        <div class="form-check">
                          <input class="form-check-input" type="checkbox"
                            id="includeCharts">
                          <label class="form-check-label"
                            for="includeCharts">Inclure les graphiques</label>
                        </div>
                        <div class="form-check">
                          <input class="form-check-input" type="checkbox"
                            id="detailedLogs">
                          <label class="form-check-label"
                            for="detailedLogs">Logs détaillés</label>
                        </div>
                        <div class="form-check">
                          <input class="form-check-input" type="checkbox"
                            id="sendEmail">
                          <label class="form-check-label"
                            for="sendEmail">Envoyer par email</label>
                        </div>
                      </div>

                      <div class="d-grid gap-2">
                        <button type="submit" class="btn btn-primary">
                          <i class="bi bi-gear"></i> Générer le rapport
                        </button>
                      </div>
                    </form>
                  </div>
                </div>
              </div>

              <!-- Liste des rapports -->
              <div class="col-lg-8">
                <div class="card shadow-sm">
                  <div
                    class="card-header bg-dark text-white d-flex justify-content-between align-items-center">
                    <h5 class="mb-0"><i class="bi bi-list-ul"></i> Rapports
                      récents</h5>
                    <div class="input-group w-auto">
                      <span class="input-group-text"><i
                          class="bi bi-search"></i></span>
                      <input type="text" class="form-control"
                        placeholder="Rechercher...">
                    </div>
                  </div>
                  <div class="card-body">
                    <div class="list-group list-group-flush">
                      <a href="#" class="list-group-item list-group-item-action"
                        data-bs-toggle="modal" data-bs-target="#rapportModal"
                        data-title="Rapport Résumé Quotidien - 2025-07-27">
                        <div class="d-flex w-100 justify-content-between">
                          <div>
                            <h6 class="mb-1"><i
                                class="bi bi-file-earmark-text-fill text-primary me-2"></i>
                              Rapport Résumé Quotidien</h6>
                            <small class="text-muted">Généré le 27/07/2025 à
                              08:15</small>
                          </div>
                          <div class="text-end">
                            <span
                              class="badge bg-primary rounded-pill">PDF</span>
                            <div class="mt-1">
                              <small class="text-muted">2.4 MB</small>
                            </div>
                          </div>
                        </div>
                      </a>

                      <a href="#" class="list-group-item list-group-item-action"
                        data-bs-toggle="modal" data-bs-target="#rapportModal"
                        data-title="Analyse des Incidents - Semaine 30">
                        <div class="d-flex w-100 justify-content-between">
                          <div>
                            <h6 class="mb-1"><i
                                class="bi bi-exclamation-triangle-fill text-danger me-2"></i>
                              Analyse des Incidents</h6>
                            <small class="text-muted">Généré le 26/07/2025 à
                              18:30</small>
                          </div>
                          <div class="text-end">
                            <span
                              class="badge bg-danger rounded-pill">PDF</span>
                            <div class="mt-1">
                              <small class="text-muted">3.1 MB</small>
                            </div>
                          </div>
                        </div>
                      </a>

                      <a href="#" class="list-group-item list-group-item-action"
                        data-bs-toggle="modal" data-bs-target="#rapportModal"
                        data-title="Audit de Sécurité - Juillet 2025">
                        <div class="d-flex w-100 justify-content-between">
                          <div>
                            <h6 class="mb-1"><i
                                class="bi bi-shield-lock-fill text-success me-2"></i>
                              Audit de Sécurité</h6>
                            <small class="text-muted">Généré le 25/07/2025 à
                              10:45</small>
                          </div>
                          <div class="text-end">
                            <span
                              class="badge bg-success rounded-pill">PDF</span>
                            <div class="mt-1">
                              <small class="text-muted">5.7 MB</small>
                            </div>
                          </div>
                        </div>
                      </a>

                      <a href="#" class="list-group-item list-group-item-action"
                        data-bs-toggle="modal" data-bs-target="#rapportModal"
                        data-title="Performances Réseau - Juillet 2025">
                        <div class="d-flex w-100 justify-content-between">
                          <div>
                            <h6 class="mb-1"><i
                                class="bi bi-speedometer2 text-info me-2"></i>
                              Performances Réseau</h6>
                            <small class="text-muted">Généré le 20/07/2025 à
                              14:20</small>
                          </div>
                          <div class="text-end">
                            <span class="badge bg-info rounded-pill">PDF</span>
                            <div class="mt-1">
                              <small class="text-muted">4.2 MB</small>
                            </div>
                          </div>
                        </div>
                      </a>
                    </div>

                    <nav class="mt-3">
                      <ul class="pagination justify-content-center">
                        <li class="page-item disabled">
                          <a class="page-link" href="#"
                            tabindex="-1">Précédent</a>
                        </li>
                        <li class="page-item active"><a class="page-link"
                            href="#">1</a></li>
                        <li class="page-item"><a class="page-link"
                            href="#">2</a></li>
                        <li class="page-item"><a class="page-link"
                            href="#">3</a></li>
                        <li class="page-item">
                          <a class="page-link" href="#">Suivant</a>
                        </li>
                      </ul>
                    </nav>
                  </div>
                </div>
              </div>
            </div>

            <!-- Modal Aperçu Rapport amélioré -->
            <div class="modal fade" id="rapportModal" tabindex="-1"
              aria-labelledby="rapportModalLabel" aria-hidden="true">
              <div class="modal-dialog modal-xl">
                <div class="modal-content">
                  <div class="modal-header bg-dark text-white">
                    <h5 class="modal-title" id="rapportModalLabel">Aperçu du
                      rapport</h5>
                    <div>
                      <button type="button"
                        class="btn btn-sm btn-outline-light me-2">
                        <i class="bi bi-download"></i> Télécharger
                      </button>
                      <button type="button"
                        class="btn btn-sm btn-outline-light me-2">
                        <i class="bi bi-printer"></i> Imprimer
                      </button>
                      <button type="button" class="btn-close btn-close-white"
                        data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                  </div>
                  <div class="modal-body">
                    <div class="text-center py-4 border-bottom mb-4">
                      <h3 id="reportPreviewTitle">Rapport Résumé Quotidien</h3>
                      <p class="text-muted">Généré le <span
                          id="reportPreviewDate">27/07/2025 à 08:15</span></p>
                    </div>

                    <div class="row mb-4">
                      <div class="col-md-6">
                        <h5><i class="bi bi-graph-up text-primary"></i>
                          Statistiques clés</h5>
                        <div class="table-responsive">
                          <table class="table table-sm">
                            <tbody>
                              <tr>
                                <th>Alertes critiques</th>
                                <td>12</td>
                                <td><span class="badge bg-danger">+2 depuis
                                    hier</span></td>
                              </tr>
                              <tr>
                                <th>Alertes majeures</th>
                                <td>24</td>
                                <td><span class="badge bg-warning text-dark">-5
                                    depuis hier</span></td>
                              </tr>
                              <tr>
                                <th>Taux de résolution</th>
                                <td>83%</td>
                                <td><span
                                    class="badge bg-success">Stable</span></td>
                              </tr>
                              <tr>
                                <th>Temps moyen de réponse</th>
                                <td>47 min</td>
                                <td><span
                                    class="badge bg-success">-12%</span></td>
                              </tr>
                            </tbody>
                          </table>
                        </div>
                      </div>
                      <div class="col-md-6">
                        <h5><i class="bi bi-pie-chart text-info"></i>
                          Répartition des alertes</h5>
                        <div class="text-center">
                          <img
                            src="https://via.placeholder.com/300x150?text=Graphique+de+répartition"
                            class="img-fluid border rounded" alt="Graphique">
                        </div>
                      </div>
                    </div>

                    <h5><i class="bi bi-list-check text-success"></i> Incidents
                      majeurs</h5>
                    <div class="table-responsive mb-4">
                      <table class="table table-sm table-hover">
                        <thead>
                          <tr>
                            <th>Heure</th>
                            <th>Type</th>
                            <th>Description</th>
                            <th>Statut</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr>
                            <td>27/07 09:45</td>
                            <td><span
                                class="badge bg-danger">Critique</span></td>
                            <td>Connexion perdue avec R1 (192.168.1.1)</td>
                            <td><span
                                class="badge bg-success">Résolu</span></td>
                          </tr>
                          <tr>
                            <td>27/07 09:50</td>
                            <td><span
                                class="badge bg-warning text-dark">Majeure</span></td>
                            <td>Température élevée sur Switch2 (72°C)</td>
                            <td><span class="badge bg-warning text-dark">En
                                cours</span></td>
                          </tr>
                          <tr>
                            <td>27/07 10:15</td>
                            <td><span
                                class="badge bg-primary">Mineure</span></td>
                            <td>Disque /var presque plein (92%) sur
                              SRV-DB01</td>
                            <td><span
                                class="badge bg-success">Résolu</span></td>
                          </tr>
                        </tbody>
                      </table>
                    </div>

                    <h5><i class="bi bi-lightbulb text-warning"></i>
                      Recommandations</h5>
                    <div class="alert alert-warning">
                      <ul class="mb-0">
                        <li>Vérifier la configuration de refroidissement du
                          Switch2</li>
                        <li>Planifier une maintenance préventive pour les
                          disques sur SRV-DB01</li>
                        <li>Mettre à jour les règles du firewall pour bloquer
                          les tentatives SSH répétées</li>
                      </ul>
                    </div>
                  </div>
                  <div class="modal-footer">
                    <button type="button" class="btn btn-secondary"
                      data-bs-dismiss="modal">Fermer</button>
                    <button type="button" class="btn btn-primary">Exporter en
                      PDF</button>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!--log -->

          <div id="log" class="page-section d-none">
            <!-- En-tête avec statistiques -->
            <div
              class="d-flex justify-content-between align-items-center mb-4 flex-wrap">
              <div>
                <h2 class="mb-0 d-flex align-items-center">
                  <i class="bi bi-journal-text me-2 fs-4 text-primary"></i>
                  <span class="gradient-text">Journal des Événements</span>
                </h2>
                <div class="d-flex gap-3 mt-2">
                  <span class="text-muted">
                    <i class="bi bi-clock-history me-1"></i> Dernière
                    actualisation :
                    <span id="lastUpdateTime">maintenant</span>
                  </span>
                  <span class="text-muted">
                    <i class="bi bi-list-ul me-1"></i> Total logs :
                    <span id="totalLogs">247</span>
                  </span>
                </div>
              </div>

              <div class="d-flex gap-2 mt-2 mt-md-0">
                <button class="btn btn-refresh btn-outline-light">
                  <i class="bi bi-arrow-clockwise"></i>
                  <span class="d-none d-md-inline">Actualiser</span>
                </button>
                <div class="dropdown">
                  <button class="btn btn-primary dropdown-toggle" type="button"
                    id="exportDropdown" data-bs-toggle="dropdown">
                    <i class="bi bi-download"></i>
                    <span class="d-none d-md-inline">Exporter</span>
                  </button>
                  <ul class="dropdown-menu dropdown-menu-dark">
                    <li><a class="dropdown-item" href="#"><i
                          class="bi bi-filetype-pdf me-2"></i>PDF</a></li>
                    <li><a class="dropdown-item" href="#"><i
                          class="bi bi-filetype-csv me-2"></i>CSV</a></li>
                    <li><a class="dropdown-item" href="#"><i
                          class="bi bi-filetype-json me-2"></i>JSON</a></li>
                  </ul>
                </div>
              </div>
            </div>

            <!-- Cartes de statistiques -->
            <div class="row mb-4">
              <div class="col-md-3 mb-3 mb-md-0">
                <div class="card stat-card bg-log-info">
                  <div class="card-body">
                    <div
                      class="d-flex justify-content-between align-items-center">
                      <div>
                        <h6 class="card-subtitle mb-2">Informations</h6>
                        <h3 class="mb-0">183</h3>
                      </div>
                      <i class="bi bi-info-circle fs-1 opacity-25"></i>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-md-3 mb-3 mb-md-0">
                <div class="card stat-card bg-log-warning">
                  <div class="card-body">
                    <div
                      class="d-flex justify-content-between align-items-center">
                      <div>
                        <h6 class="card-subtitle mb-2">Avertissements</h6>
                        <h3 class="mb-0">42</h3>
                      </div>
                      <i class="bi bi-exclamation-triangle fs-1 opacity-25"></i>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-md-3 mb-3 mb-md-0">
                <div class="card stat-card bg-log-error">
                  <div class="card-body">
                    <div
                      class="d-flex justify-content-between align-items-center">
                      <div>
                        <h6 class="card-subtitle mb-2">Erreurs</h6>
                        <h3 class="mb-0">22</h3>
                      </div>
                      <i class="bi bi-x-circle fs-1 opacity-25"></i>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-md-3">
                <div class="card stat-card bg-log-critical">
                  <div class="card-body">
                    <div
                      class="d-flex justify-content-between align-items-center">
                      <div>
                        <h6 class="card-subtitle mb-2">Critiques</h6>
                        <h3 class="mb-0">3</h3>
                      </div>
                      <i class="bi bi-bug fs-1 opacity-25"></i>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Barre de filtres avancés -->
            <div class="card mb-4 border-0 shadow-sm">
              <div class="card-body p-3">
                <div class="row g-3 align-items-end">
                  <div class="col-lg-2 col-md-4">
                    <label class="form-label small mb-1">Type</label>
                    <select id="filterType" class="form-select">
                      <option value>Tous types</option>
                      <option value="Info">Information</option>
                      <option value="Warning">Avertissement</option>
                      <option value="Error">Erreur</option>
                      <option value="Critical">Critique</option>
                    </select>
                  </div>
                  <div class="col-lg-2 col-md-4">
                    <label class="form-label small mb-1">Utilisateur</label>
                    <select id="filterUser" class="form-select">
                      <option value>Tous utilisateurs</option>
                      <option value="Jean Dupont">Jean Dupont</option>
                      <option value="Marie Martin">Marie Martin</option>
                      <option value="Paul Durand">Paul Durand</option>
                    </select>
                  </div>
                  <div class="col-lg-2 col-md-4">
                    <label class="form-label small mb-1">Date de début</label>
                    <input type="date" id="filterDateStart"
                      class="form-control">
                  </div>
                  <div class="col-lg-2 col-md-4">
                    <label class="form-label small mb-1">Date de fin</label>
                    <input type="date" id="filterDateEnd" class="form-control">
                  </div>
                  <div class="col-lg-2 col-md-4">
                    <label class="form-label small mb-1">Source</label>
                    <select id="filterSource" class="form-select">
                      <option value>Toutes sources</option>
                      <option value="API">API</option>
                      <option value="Backend">Backend</option>
                      <option value="Frontend">Frontend</option>
                      <option value="Database">Base de données</option>
                    </select>
                  </div>
                  <div class="col-lg-2 col-md-4 d-flex">
                    <button id="resetFilters"
                      class="btn btn-outline-secondary w-100">
                      <i class="bi bi-x-lg me-1"></i> Réinitialiser
                    </button>
                  </div>
                </div>
              </div>
            </div>

            <!-- Tableau des logs -->
            <div class="card border-0 shadow-sm">
              <div class="card-body p-0">
                <div class="table-responsive">
                  <table class="table table-hover align-middle mb-0"
                    id="logsTable">
                    <thead class="table-head-custom">
                      <tr>
                        <th width="160">Date/Heure</th>
                        <th width="100">Type</th>
                        <th width="150">Utilisateur</th>
                        <th>Message</th>
                        <th width="120">Source</th>
                        <th width="130">Actions</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr data-type="Info" data-user="Jean Dupont"
                        data-date="2024-04-04" data-source="API">
                        <td>
                          <div class="d-flex flex-column">
                            <span>04/04/2024</span>
                            <small class="text-muted">13:55:12</small>
                          </div>
                        </td>
                        <td><span class="badge bg-log-info">Info</span></td>
                        <td>
                          <div class="d-flex align-items-center">
                            <div class="avatar-sm me-2">
                              <div
                                class="avatar-title bg-primary rounded-circle">JD</div>
                            </div>
                            Jean Dupont
                          </div>
                        </td>
                        <td>Connexion API réussie - Token généré</td>
                        <td>API</td>
                        <td>
                          <button
                            class="btn btn-sm btn-outline-light btn-log-details"
                            data-bs-toggle="modal"
                            data-bs-target="#logModal"
                            data-log-id="log-001">
                            <i class="bi bi-three-dots-vertical"></i>
                          </button>
                        </td>
                      </tr>
                      <tr data-type="Warning" data-user="Marie Martin"
                        data-date="2024-04-04" data-source="Backend">
                        <td>
                          <div class="d-flex flex-column">
                            <span>04/04/2024</span>
                            <small class="text-muted">13:50:34</small>
                          </div>
                        </td>
                        <td><span
                            class="badge bg-log-warning">Warning</span></td>
                        <td>
                          <div class="d-flex align-items-center">
                            <div class="avatar-sm me-2">
                              <div
                                class="avatar-title bg-success rounded-circle">MM</div>
                            </div>
                            Marie Martin
                          </div>
                        </td>
                        <td>Utilisation mémoire élevée (92%) - Serveur
                          backend-01</td>
                        <td>Backend</td>
                        <td>
                          <button
                            class="btn btn-sm btn-outline-light btn-log-details"
                            data-bs-toggle="modal"
                            data-bs-target="#logModal"
                            data-log-id="log-002">
                            <i class="bi bi-three-dots-vertical"></i>
                          </button>
                        </td>
                      </tr>
                      <tr data-type="Error" data-user="Jean Dupont"
                        data-date="2024-04-04" data-source="Database">
                        <td>
                          <div class="d-flex flex-column">
                            <span>04/04/2024</span>
                            <small class="text-muted">13:45:56</small>
                          </div>
                        </td>
                        <td><span class="badge bg-log-error">Error</span></td>
                        <td>
                          <div class="d-flex align-items-center">
                            <div class="avatar-sm me-2">
                              <div
                                class="avatar-title bg-primary rounded-circle">JD</div>
                            </div>
                            Jean Dupont
                          </div>
                        </td>
                        <td>Échec sauvegarde base de données - Espace disque
                          insuffisant</td>
                        <td>Database</td>
                        <td>
                          <button
                            class="btn btn-sm btn-outline-light btn-log-details"
                            data-bs-toggle="modal"
                            data-bs-target="#logModal"
                            data-log-id="log-003">
                            <i class="bi bi-three-dots-vertical"></i>
                          </button>
                        </td>
                      </tr>
                      <tr data-type="Critical" data-user="System"
                        data-date="2024-04-03" data-source="Backend">
                        <td>
                          <div class="d-flex flex-column">
                            <span>03/04/2024</span>
                            <small class="text-muted">22:15:42</small>
                          </div>
                        </td>
                        <td><span
                            class="badge bg-log-critical">Critical</span></td>
                        <td>
                          <div class="d-flex align-items-center">
                            <div class="avatar-sm me-2">
                              <div
                                class="avatar-title bg-secondary rounded-circle">S</div>
                            </div>
                            System
                          </div>
                        </td>
                        <td>Crash application - Exception non gérée dans le
                          module payment</td>
                        <td>Backend</td>
                        <td>
                          <button
                            class="btn btn-sm btn-outline-light btn-log-details"
                            data-bs-toggle="modal"
                            data-bs-target="#logModal"
                            data-log-id="log-004">
                            <i class="bi bi-three-dots-vertical"></i>
                          </button>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>

            <!-- Pagination -->
            <nav aria-label="Page navigation" class="mt-4">
              <ul class="pagination justify-content-center">
                <li class="page-item disabled">
                  <a class="page-link" href="#" tabindex="-1">
                    <i class="bi bi-chevron-left"></i>
                  </a>
                </li>
                <li class="page-item active"><a class="page-link"
                    href="#">1</a></li>
                <li class="page-item"><a class="page-link" href="#">2</a></li>
                <li class="page-item"><a class="page-link" href="#">3</a></li>
                <li class="page-item">
                  <a class="page-link" href="#">
                    <i class="bi bi-chevron-right"></i>
                  </a>
                </li>
              </ul>
            </nav>

            <!-- Modal Détail Log -->
            <div class="modal fade" id="logModal" tabindex="-1"
              aria-labelledby="logModalLabel" aria-hidden="true">
              <div class="modal-dialog modal-lg modal-dialog-centered">
                <div class="modal-content border-0">
                  <div class="modal-header bg-dark text-white">
                    <h5 class="modal-title" id="logModalLabel">
                      <i class="bi bi-journal-text me-2"></i>Détails du log
                    </h5>
                    <button type="button" class="btn-close btn-close-white"
                      data-bs-dismiss="modal" aria-label="Close"></button>
                  </div>
                  <div class="modal-body">
                    <div class="row mb-4">
                      <div class="col-md-6">
                        <div class="d-flex align-items-center mb-3">
                          <div class="me-3">
                            <span class="badge bg-log-info fs-6"
                              id="logModalType">Info</span>
                          </div>
                          <div>
                            <h6 class="mb-0" id="logModalDate">04/04/2024
                              13:55:12</h6>
                            <small class="text-muted"
                              id="logModalSource">Source: API</small>
                          </div>
                        </div>

                        <div class="mb-3">
                          <h6 class="section-title">Utilisateur</h6>
                          <div class="d-flex align-items-center"
                            id="logModalUser">
                            <div class="avatar me-3">
                              <div
                                class="avatar-title bg-primary rounded-circle">JD</div>
                            </div>
                            <div>
                              <div>Jean Dupont</div>
                              <small
                                class="text-muted">admin@example.com</small>
                            </div>
                          </div>
                        </div>

                        <div class="mb-3">
                          <h6 class="section-title">Tags</h6>
                          <div id="logModalTags">
                            <span
                              class="badge bg-secondary me-1 mb-1">authentification</span>
                            <span
                              class="badge bg-secondary me-1 mb-1">api</span>
                            <span
                              class="badge bg-success me-1 mb-1">succès</span>
                          </div>
                        </div>
                      </div>
                      <div class="col-md-6">
                        <div class="card h-100">
                          <div class="card-body">
                            <h6 class="section-title">Métriques associées</h6>
                            <div class="mb-3">
                              <small class="text-muted">Statut HTTP</small>
                              <div class="d-flex align-items-center">
                                <div class="progress flex-grow-1 me-2"
                                  style="height: 6px;">
                                  <div class="progress-bar bg-success"
                                    style="width: 100%"></div>
                                </div>
                                <span>200</span>
                              </div>
                            </div>
                            <div class="mb-3">
                              <small class="text-muted">Temps de réponse</small>
                              <div class="d-flex align-items-center">
                                <div class="progress flex-grow-1 me-2"
                                  style="height: 6px;">
                                  <div class="progress-bar bg-info"
                                    style="width: 45%"></div>
                                </div>
                                <span>142ms</span>
                              </div>
                            </div>
                            <div>
                              <small class="text-muted">Charge serveur</small>
                              <div class="d-flex align-items-center">
                                <div class="progress flex-grow-1 me-2"
                                  style="height: 6px;">
                                  <div class="progress-bar bg-warning"
                                    style="width: 72%"></div>
                                </div>
                                <span>72%</span>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>

                    <div class="mb-4">
                      <h6 class="section-title">Message complet</h6>
                      <div class="card bg-light">
                        <div class="card-body">
                          <pre class="mb-0"
                            id="logModalMessage">Chargement du message...</pre>
                        </div>
                      </div>
                    </div>

                    <div class="mb-4">
                      <h6 class="section-title">StackTrace</h6>
                      <div class="card bg-dark text-white">
                        <div class="card-body p-0">
                          <pre class="m-0 p-3" id="logModalStackTrace"
                            style="max-height: 200px; overflow: auto;">
                                    <code class="language-plaintext">
                                Chargement de la stack trace...
                                    </code>
                                </pre>
                        </div>
                      </div>
                    </div>

                    <div
                      class="d-flex justify-content-between align-items-center">
                      <button class="btn btn-outline-secondary">
                        <i class="bi bi-download me-1"></i> Télécharger
                      </button>
                      <div>
                        <button class="btn btn-success me-2">
                          <i class="bi bi-check-circle me-1"></i> Résoudre
                        </button>
                        <button class="btn btn-primary">
                          <i class="bi bi-ticket-detailed me-1"></i> Créer
                          ticket
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!--configuration -->

          <div id="configuration" class="page-section d-none">
            <div class="card border-0 shadow-sm">
              <div class="card-header bg-primary text-white">
                <h4 class="mb-0 d-flex align-items-center">
                  <i class="bi bi-toggles me-2 fs-4"></i> Paramètres de
                  surveillance
                </h4>
              </div>
              <div class="card-body">
                <form id="configForm" class="row g-4">
                  <!-- Section Seuils d'alerte -->
                  <div class="col-12">
                    <h5 class="mb-3 text-primary">
                      <i class="bi bi-speedometer2 me-2"></i>Seuils d'alerte
                    </h5>
                    <div class="row g-3">
                      <div class="col-md-6">
                        <div class="form-floating">
                          <input type="number" class="form-control"
                            id="cpuThreshold"
                            min="1" max="100" value="80" required
                            placeholder="Seuil CPU">
                          <label for="cpuThreshold">Seuil d'alerte CPU
                            (%)</label>
                          <div class="invalid-feedback">Doit être entre 1 et
                            100</div>
                          <div class="form-text">Déclenche une alerte quand
                            l'utilisation dépasse ce pourcentage</div>
                        </div>
                      </div>
                      <div class="col-md-6">
                        <div class="form-floating">
                          <input type="number" class="form-control"
                            id="ramThreshold"
                            min="1" max="100" value="90" required
                            placeholder="Seuil RAM">
                          <label for="ramThreshold">Seuil d'alerte RAM
                            (%)</label>
                          <div class="invalid-feedback">Doit être entre 1 et
                            100</div>
                          <div class="form-text">Déclenche une alerte quand la
                            mémoire dépasse ce pourcentage</div>
                        </div>
                      </div>
                      <div class="col-md-6">
                        <div class="form-floating">
                          <input type="number" class="form-control"
                            id="diskThreshold"
                            min="1" max="100" value="85" required
                            placeholder="Seuil Disque">
                          <label for="diskThreshold">Seuil d'alerte Disque
                            (%)</label>
                          <div class="invalid-feedback">Doit être entre 1 et
                            100</div>
                          <div class="form-text">Déclenche une alerte quand
                            l'espace disque est inférieur à ce pourcentage</div>
                        </div>
                      </div>
                      <div class="col-md-6">
                        <div class="form-floating">
                          <input type="number" class="form-control"
                            id="networkThreshold"
                            min="1" max="1000" value="90" required
                            placeholder="Seuil Réseau">
                          <label for="networkThreshold">Seuil d'alerte Réseau
                            (Mbps)</label>
                          <div class="invalid-feedback">Doit être entre 1 et
                            1000</div>
                          <div class="form-text">Déclenche une alerte quand le
                            débit dépasse cette valeur</div>
                        </div>
                      </div>
                    </div>
                  </div>

                  <!-- Section Notifications -->
                  <div class="col-12 mt-4">
                    <h5 class="mb-3 text-primary">
                      <i class="bi bi-bell me-2"></i>Notifications
                    </h5>
                    <div class="row g-3">
                      <div class="col-md-6">
                        <div class="form-floating">
                          <input type="email" class="form-control"
                            id="emailNotif"
                            value="admin@email.com" required
                            placeholder="Email">
                          <label for="emailNotif">Email de notification</label>
                          <div class="invalid-feedback">Adresse email
                            invalide</div>
                          <div class="form-text">Recevez les alertes par
                            email</div>
                        </div>
                      </div>
                      <div class="col-md-6">
                        <div class="form-floating">
                          <input type="text" class="form-control"
                            id="slackWebhook"
                            value="https://hooks.slack.com/services/..."
                            required
                            placeholder="Webhook Slack">
                          <label for="slackWebhook">Webhook Slack</label>
                          <div class="invalid-feedback">URL doit commencer par
                            https://</div>
                          <div class="form-text">Intégration avec les channels
                            Slack</div>
                        </div>
                      </div>
                      <div class="col-md-6">
                        <div class="form-floating">
                          <select class="form-select" id="notificationLevel"
                            required>
                            <option value="high">Haute (Toutes les
                              alertes)</option>
                            <option value="medium" selected>Moyenne (Alertes
                              importantes)</option>
                            <option value="low">Basse (Alertes critiques
                              seulement)</option>
                          </select>
                          <label for="notificationLevel">Niveau de
                            notification</label>
                          <div class="form-text">Contrôle la fréquence des
                            notifications</div>
                        </div>
                      </div>
                      <div class="col-md-6">
                        <div class="form-floating">
                          <input type="text" class="form-control" id="smsNumber"
                            placeholder="Numéro SMS">
                          <label for="smsNumber">Numéro pour SMS
                            (optionnel)</label>
                          <div class="invalid-feedback">Format de numéro
                            invalide</div>
                          <div class="form-text">Recevez les alertes critiques
                            par SMS</div>
                        </div>
                      </div>
                    </div>
                  </div>

                  <!-- Section Planification -->
                  <div class="col-12 mt-4">
                    <h5 class="mb-3 text-primary">
                      <i class="bi bi-calendar-event me-2"></i>Planification
                    </h5>
                    <div class="row g-3">
                      <div class="col-md-6">
                        <div class="form-floating">
                          <select class="form-select" id="workingHours">
                            <option value="9-18">9h - 18h (Heures de
                              bureau)</option>
                            <option value="24/7" selected>24h/24 7j/7</option>
                            <option value="custom">Personnalisé</option>
                          </select>
                          <label for="workingHours">Période de
                            surveillance</label>
                          <div class="form-text">Définissez quand le système
                            doit être surveillé</div>
                        </div>
                      </div>
                      <div class="col-md-6" id="customHoursContainer"
                        style="display:none;">
                        <div class="form-floating">
                          <input type="text" class="form-control"
                            id="customHours"
                            placeholder="Ex: 8-17">
                          <label for="customHours">Heures personnalisées</label>
                          <div class="invalid-feedback">Format: HH-HH (ex:
                            8-17)</div>
                          <div class="form-text">Ex: 8-17 pour 8h du matin à
                            17h</div>
                        </div>
                      </div>
                    </div>
                  </div>

                  <div class="col-12 mt-4">
                    <div
                      class="d-flex justify-content-between align-items-center">
                      <button class="btn btn-primary px-4" type="submit">
                        <i class="bi bi-save me-2"></i>Enregistrer les
                        modifications
                      </button>
                      <div>
                        <button class="btn btn-outline-secondary me-2"
                          type="button" id="testEmailBtn">
                          <i class="bi bi-envelope me-2"></i>Tester email
                        </button>
                        <button class="btn btn-outline-secondary" type="button"
                          id="testSlackBtn">
                          <i class="bi bi-slack me-2"></i>Tester Slack
                        </button>
                      </div>
                    </div>
                  </div>
                </form>

                <div id="notifResult" class="mt-4"></div>
              </div>
            </div>
          </div>

          <!-- Topologie réseau améliorée -->
          <div id="reseau" class="page-section d-none">
            <h4 class="mb-4 d-flex align-items-center">
              <i class="bi bi-diagram-3 me-2 fs-4"></i> Topologie réseau
            </h4>

            <div class="row mb-4">
              <div class="col-md-6">
                <div class="input-group">
                  <span class="input-group-text"><i
                      class="bi bi-search"></i></span>
                  <input type="text" id="topoSearch" class="form-control"
                    placeholder="Rechercher un équipement...">
                </div>
              </div>
              <div class="col-md-6 text-end">
                <div class="btn-group">
                  <button class="btn btn-sm btn-outline-light" id="zoomInBtn"><i
                      class="bi bi-zoom-in"></i></button>
                  <button class="btn btn-sm btn-outline-light"
                    id="zoomOutBtn"><i class="bi bi-zoom-out"></i></button>
                  <button class="btn btn-sm btn-outline-light"
                    id="resetZoomBtn"><i class="bi bi-zoom-reset"></i></button>
                </div>
              </div>
            </div>

            <div class="topo-container">
              <svg id="topoSvg" class="topo-svg" width="100%"
                height="500"></svg>
            </div>

            <div class="mt-3">
              <div class="legend">
                <span class="legend-item"><span
                    class="legend-color server"></span> Serveur</span>
                <span class="legend-item"><span
                    class="legend-color switch"></span> Switch</span>
                <span class="legend-item"><span
                    class="legend-color router"></span> Routeur</span>
                <span class="legend-item"><span
                    class="legend-color offline"></span> Hors ligne</span>
              </div>
            </div>
          </div>

          <!-- Section Logs  -->
          <div id="logs" class="page-section">
            <h4 class="mb-4 d-flex align-items-center">
              <i class="bi bi-journal-text me-2 fs-4"></i> Journal des
              événements
            </h4>

            <div class="row mb-4">
              <div class="col-md-3">
                <select class="form-select" id="logTypeFilter">
                  <option value>Tous les types</option>
                  <option value="Info">Information</option>
                  <option value="Warning">Avertissement</option>
                  <option value="Erreur">Erreur</option>
                </select>
              </div>
              <div class="col-md-3">
                <select class="form-select" id="logUserFilter">
                  <option value>Tous les utilisateurs</option>
                  <option value="Jean Dupont">Jean Dupont</option>
                  <option value="Marie Martin">Marie Martin</option>
                  <option value="Paul Durand">Paul Durand</option>
                </select>
              </div>
              <div class="col-md-3">
                <input type="date" class="form-control" id="logDateFilter">
              </div>
              <div class="col-md-3">
                <div class="input-group">
                  <input type="text" class="form-control" id="logSearch"
                    placeholder="Recherche...">
                  <button class="btn btn-outline-light" type="button"
                    id="logSearchBtn"><i class="bi bi-search"></i></button>
                </div>
              </div>
            </div>

            <div class="table-responsive">
              <table class="table table-dark table-hover align-middle"
                id="logsTable">
                <thead>
                  <tr>
                    <th style="width: 160px;" class="sortable">Date/Heure <i
                        class="bi bi-arrow-down-up"></i></th>
                    <th style="width: 100px;" class="sortable">Type <i
                        class="bi bi-arrow-down-up"></i></th>
                    <th style="width: 180px;" class="sortable">Utilisateur <i
                        class="bi bi-arrow-down-up"></i></th>
                    <th class="sortable">Message <i
                        class="bi bi-arrow-down-up"></i></th>
                    <th style="width: 100px;">Actions</th>
                  </tr>
                </thead>
                <tbody id="logsTableBody">
                  <!-- Les logs seront chargés dynamiquement -->
                </tbody>
              </table>
            </div>

            <nav aria-label="Page navigation" class="mt-4">
              <ul class="pagination justify-content-center" id="logsPagination">
                <!-- La pagination sera générée dynamiquement -->
              </ul>
            </nav>
          </div>

          <!-- Modals -->
          <div class="modal fade" id="hostModal" tabindex="-1"
            aria-labelledby="hostModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-lg">
              <div class="modal-content"
                style="background:#28293d; color:#fff;">
                <div class="modal-header">
                  <h5 class="modal-title" id="hostModalLabel">Détail de
                    l'hôte</h5>
                  <button type="button" class="btn-close btn-close-white"
                    data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="hostDetailBody">
                  <div class="row">
                    <div class="col-md-6">
                      <div class="mb-3">
                        <h6><i class="bi bi-pc-display me-2"></i> Informations
                          générales</h6>
                        <table class="table table-sm table-dark">
                          <tr>
                            <td>Nom</td>
                            <td id="host-name">-</td>
                          </tr>
                          <tr>
                            <td>Adresse IP</td>
                            <td id="host-ip">-</td>
                          </tr>
                          <tr>
                            <td>Type</td>
                            <td id="host-type">-</td>
                          </tr>
                          <tr>
                            <td>Statut</td>
                            <td id="host-status">-</td>
                          </tr>
                        </table>
                      </div>
                    </div>
                    <div class="col-md-6">
                      <div class="mb-3">
                        <h6><i class="bi bi-graph-up me-2"></i> Métriques</h6>
                        <div class="metrics-chart">
                          <canvas id="hostMetricsChart" height="200"></canvas>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="mb-3">
                    <h6><i class="bi bi-list-check me-2"></i> Services</h6>
                    <div id="host-services" class="services-list">
                      <!-- Services will be loaded here -->
                    </div>
                  </div>
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-secondary"
                    data-bs-dismiss="modal">Fermer</button>
                  <button type="button" class="btn btn-primary">Voir les détails
                    complets</button>
                </div>
              </div>
            </div>

            <div class="table-responsive">
              <table class="table table-dark table-hover align-middle"
                id="logsTable">
                <thead>
                  <tr>
                    <th style="width: 160px;">Date/Heure</th>
                    <th style="width: 100px;">Type</th>
                    <th style="width: 180px;">Utilisateur</th>
                    <th>Message</th>
                    <th style="width: 100px;">Actions</th>
                  </tr>
                </thead>
                <tbody>
                  <tr data-type="Info" data-user="Jean Dupont"
                    data-date="2024-04-04">
                    <td>04/04/2024 13:55:12</td>
                    <td><span
                        class="badge bg-info log-info text-light">Infos</span></td>
                    <td>Jean Dupont</td>
                    <td>Connexion réussie depuis l'adresse IP 192.168.1.45</td>
                    <td>
                      <button
                        class="btn btn-sm btn-outline-light btn-log-details"
                        data-bs-toggle="modal"
                        data-bs-target="#logModal"
                        data-details="Connexion réussie depuis l'adresse IP 192.168.1.45 avec le navigateur Chrome sur Windows 10">
                        <i class="bi bi-eye"></i> Détails
                      </button>
                    </td>
                  </tr>
                  <tr data-type="Warning" data-user="Marie Martin"
                    data-date="2024-04-04">
                    <td>04/04/2024 13:50:34</td>
                    <td><span
                        class="badge bg-warning log-warning text-light">Warning</span></td>
                    <td>Marie Martin</td>
                    <td>Utilisation RAM élevée sur le serveur web-01 (92%)</td>
                    <td>
                      <button
                        class="btn btn-sm btn-outline-light btn-log-details"
                        data-bs-toggle="modal"
                        data-bs-target="#logModal"
                        data-details="Utilisation mémoire anormalement élevée sur le serveur web-01. Détails: RAM totale: 16GB, Utilisée: 14.7GB, Processus principal: apache2 (3.2GB)">
                        <i class="bi bi-eye"></i> Détails
                      </button>
                    </td>
                  </tr>
                  <tr data-type="Erreur" data-user="Jean Dupont"
                    data-date="2024-04-04">
                    <td>04/04/2024 13:45:56</td>
                    <td><span
                        class="badge bg-danger log-error text-light">Erreur</span></td>
                    <td>Jean Dupont</td>
                    <td>Échec de la sauvegarde automatique de la base de
                      données</td>
                    <td>
                      <button
                        class="btn btn-sm btn-outline-light btn-log-details"
                        data-bs-toggle="modal"
                        data-bs-target="#logModal"
                        data-details="Échec de la sauvegarde MySQL sur db-01. Erreur: 'Disk full'. Espace disponible: 120MB sur 50GB. Le script de sauvegarde a été interrompu.">
                        <i class="bi bi-eye"></i> Détails
                      </button>
                    </td>
                  </tr>
                  <tr data-type="Info" data-user="Paul Durand"
                    data-date="2024-04-03">
                    <td>03/04/2024 09:22:18</td>
                    <td><span
                        class="badge bg-info log-info text-light">Info</span></td>
                    <td>Paul Durand</td>
                    <td>Mise à jour de la configuration du pare-feu
                      appliquée</td>
                    <td>
                      <button
                        class="btn btn-sm btn-outline-light btn-log-details"
                        data-bs-toggle="modal"
                        data-bs-target="#logModal"
                        data-details="Nouvelle règle de pare-feu ajoutée: BLOCK 192.168.1.100/32 sur les ports 22,80,443. Appliqué par Paul Durand à 09:22:18.">
                        <i class="bi bi-eye"></i> Détails
                      </button>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>

            <nav aria-label="Page navigation" class="mt-4">
              <ul class="pagination justify-content-center">
                <li class="page-item disabled">
                  <a class="page-link" href="#" tabindex="-1">Précédent</a>
                </li>
                <li class="page-item active"><a class="page-link"
                    href="#">1</a></li>
                <li class="page-item"><a class="page-link" href="#">2</a></li>
                <li class="page-item"><a class="page-link" href="#">3</a></li>
                <li class="page-item">
                  <a class="page-link" href="#">Suivant</a>
                </li>
              </ul>
            </nav>
          </div>

          <!-- Modal Détail Log -->
          <div class="modal fade" id="logModal" tabindex="-1"
            aria-labelledby="logModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-lg">
              <div class="modal-content" style="background: var(--card-bg);">
                <div class="modal-header border-bottom-0">
                  <h5 class="modal-title" id="logModalLabel">
                    <i class="bi bi-journal-text me-2"></i>Détails de
                    l'événement
                  </h5>
                  <button type="button" class="btn-close btn-close-white"
                    data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                  <div class="row mb-3">
                    <div class="col-md-6">
                      <div class="d-flex align-items-center mb-3">
                        <div class="me-3">
                          <span class="badge bg-info fs-6"
                            id="logModalType">Info</span>
                        </div>
                        <div>
                          <h6 class="mb-0" id="logModalDate">04/04/2024
                            13:55:12</h6>
                          <small class="text-muted" id="logModalUser">Jean
                            Dupont</small>
                        </div>
                      </div>
                    </div>
                    <div class="col-md-6">
                      <div class="bg-dark p-3 rounded">
                        <h6><i class="bi bi-tags me-2"></i>Tags</h6>
                        <div id="logModalTags">
                          <span
                            class="badge bg-secondary me-1">authentification</span>
                          <span class="badge bg-secondary">succès</span>
                        </div>
                      </div>
                    </div>
                  </div>

                  <div class="mb-4">
                    <h6><i class="bi bi-chat-square-text me-2"></i>Message
                      complet</h6>
                    <div class="bg-dark p-3 rounded" id="logModalMessage">
                      Chargement...
                    </div>
                  </div>

                  <div class="mb-3">
                    <h6><i class="bi bi-diagram-3 me-2"></i>Ressources
                      concernées</h6>
                    <div class="table-responsive">
                      <table class="table table-sm table-dark">
                        <thead>
                          <tr>
                            <th>Type</th>
                            <th>Nom</th>
                            <th>IP</th>
                            <th>Statut</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr>
                            <td>Serveur</td>
                            <td>web-01</td>
                            <td>192.168.1.10</td>
                            <td><span class="badge bg-success">En
                                ligne</span></td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </div>

                  <div
                    class="d-flex justify-content-between align-items-center">
                    <button class="btn btn-outline-secondary">
                      <i class="bi bi-download me-1"></i> Exporter cet
                      événement
                    </button>
                    <div>
                      <button class="btn btn-success me-2">
                        <i class="bi bi-check-circle me-1"></i> Marquer comme
                        résolu
                      </button>
                      <button class="btn btn-primary">
                        <i class="bi bi-ticket-detailed me-1"></i> Créer un
                        ticket
                      </button>
                    </div>
                  </div>
                </div>
              </div>

              <div class="modal fade" id="logModal" tabindex="-1"
                aria-labelledby="logModalLabel" aria-hidden="true">
                <!-- Le modal de log existant amélioré -->
              </div>
            </div>
          </div>

          <!-----Modal de performance des equipemments-------->

          <div class="modal fade" id="graphieModal" tabindex="-1"
            role="dialog" aria-labelledby="graphiqueModallabel"
            aria-hidden="true">
            <div class="modal-dialog modal-lg" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title">
                    Equipements de web-server-01
                  </h5>
                  <button type="button" class="btn-close"
                    data-bs-dismiss="modal"
                    aria-label="Fermer"></button>
                </div>
                <strong
                  class="px-3 text-primary bg-body-tertiary py-2"><i
                    class="bi bi-ethernet"> eth0 <span
                      class=" text-primary-emphasis">(Interface
                      réseau)</span></i></strong>
                <strong class="px-3"><i class="bi bi-ethernet"> sda1
                    <span class=" text-primary-emphasis">(Disque)</span>
                  </i></strong>
                <div class="modal-body">
                  <h4 class=" text-primary"> eth0 (Interface
                    réseau)</h4>
                  <div class="row">
                    <div class="col-md-6">
                      <canvas id="graphe1"
                        class=" bg-body-tertiary m-2 rounded-2"></canvas>
                    </div>
                    <div class="col-md-6">
                      <canvas id="graphe2"
                        class=" bg-body-tertiary m-2 rounded-2"></canvas>
                    </div>
                    <div class="col-md-6">
                      <canvas id="graphe3"
                        class=" bg-body-tertiary m-2 rounded-2"></canvas>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-----------===============Modal de suppression================---------->

          <div class="modal fade" id="deleteModal" tabindex="-1"
            aria-labelledby="deleteModal"
            aria-hidden="true">
            <div class="modal-dialog modal-sm modal-dialog-centered">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title">
                    Confirmer la suppression
                  </h5>
                  <button type="button" class="btn-close"
                    data-bs-dismiss="modal"
                    aria-label="Fermer"></button>
                </div>
                <div class="modal-body">
                  <h4 class="text-bold">Voulez-vous vraiment supprimer
                    l'hôte "web-server-01"</h4>
                </div>

                <div class="modal-footer">
                  <button type="button" class="btn btn-secondary"
                    data-bs-dismiss="modal">Annuler</button>
                  <button type="submit"
                    class="btn btn-danger">Confirmer</button>
                </div>
              </div>
            </div>
          </div>

          <!-----=============================Detail Modal==================-->

          <div class="modal fade" id="detailModal" tabindex="-1"
            role="dialog" aria-labelledby="graphiqueModallabel"
            aria-hidden="true">
            <div class="modal-dialog modal-lg" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title">
                    Détails de l'hôtes
                  </h5>
                  <button type="button" class="btn-close"
                    data-bs-dismiss="modal"
                    aria-label="Fermer"></button>
                </div>
                <div class="modal-body">
                  <div class>
                    Nom : <strong>web-server-01</strong> <br>
                    IP : <strong>192.168.1.10</strong> <br>
                    Etat : <strong> Up</strong> <br>
                    CPU : <strong>15%</strong> <br>
                    Memoire : <strong>4GB</strong> <br>
                    Disque : <strong>80%</strong> <br>
                    Service : <strong>HTTP,SSH</strong> <br>
                    Logs recents:
                    <ul>
                      <li>CPU OK</li>
                      <li>DisK OK</li>
                    </ul>
                    <button class=" bg-primary btn px-2 py-1"><i
                        class="bi bi-diagram-3"></i> Voir
                      Equipements</button>
                  </div>
                </div>
              </div>
            </div>
          </div>

        </main>
      </div>
    </div>
    <script src="bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="node_modules/chart.js/dist/chart.umd.js"></script>
    <script src="main-js/index.js" defer></script>
    <script>
    const themeSwitch = document.getElementById('themeSwitch');
    const html = document.querySelector('html');

    // quand je finis la récupération c'est ici je sauvegarde .... bon en réunion on pourra en discuter s'il faut ajouter d'autre thème pour s'amuser 
    const savedTheme = localStorage.getItem('theme');
    if (savedTheme) {
      html.setAttribute('data-bs-theme', savedTheme);
      themeSwitch.checked = savedTheme === 'light';
    }

    themeSwitch.addEventListener('change', function () {
      const theme = this.checked ? 'light' : 'dark';
      html.setAttribute('data-bs-theme', theme);
      localStorage.setItem('theme', theme);
    });
  </script>

  </body>

</html>